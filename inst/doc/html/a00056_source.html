<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>Microsimulation API: /home/marcle/src/R/microsimulation/inst/include/microsimulation.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Microsimulation API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_920884c6b3b2f0be94e27d51660adee5.html">inst</a></li><li class="navelem"><a class="el" href="dir_2b5d1a398a9eec011391d543f21db223.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">microsimulation.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="a00056.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#ifndef MICROSIMULATION_H</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#define MICROSIMULATION_H</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// #pragma GCC diagnostic ignored &quot;-Wunused-local-typedefs&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// #pragma GCC diagnostic ignored &quot;-Wlong-long&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;RcppCommon.h&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;boost/tuple/tuple.hpp&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;boost/tuple/tuple_comparison.hpp&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;boost/unordered_map.hpp&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">// http://stackoverflow.com/questions/3611951/building-an-unordered-map-with-tuples-as-keys</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">namespace </span><a class="code" href="a00081.html">boost</a> {</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="a00086.html">   47</a></span>&#160;  <span class="keyword">namespace </span>tuples { <span class="comment">// fixed cf. the source URL</span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="a00087.html">   48</a></span>&#160;    <span class="keyword">namespace </span>detail {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      template &lt;class Tuple, size_t Index = length&lt;Tuple&gt;::value - 1&gt;</div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="a00992.html">   50</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="a00992.html">HashValueImpl</a></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    {</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="a00992.html#a3ad7c94026889abb55ee0c8f53bb85af">   52</a></span>&#160;      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00992.html#a3ad7c94026889abb55ee0c8f53bb85af">apply</a>(<span class="keywordtype">size_t</span>&amp; seed, Tuple <span class="keyword">const</span>&amp; tuple)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="a00992.html#a3ad7c94026889abb55ee0c8f53bb85af">HashValueImpl&lt;Tuple, Index-1&gt;::apply</a>(seed, tuple);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        boost::hash_combine(seed, get&lt;Index&gt;(tuple));</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;      }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    };</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      <span class="keyword">template</span> &lt;<span class="keyword">class</span> Tuple&gt;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="a00996.html">   59</a></span>&#160;      <span class="keyword">struct </span><a class="code" href="a00992.html">HashValueImpl</a>&lt;Tuple,0&gt;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;      {</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="a00996.html#a259105e51f3b23b1828776c7d075ace6">   61</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00996.html#a259105e51f3b23b1828776c7d075ace6">apply</a>(<span class="keywordtype">size_t</span>&amp; seed, Tuple <span class="keyword">const</span>&amp; tuple)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      boost::hash_combine(seed, get&lt;0&gt;(tuple));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      };</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    } <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Tuple&gt;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="a00086.html#a824c38fa3bc4c8f2ce1a28c0570c5fbb">   68</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="a00086.html#a824c38fa3bc4c8f2ce1a28c0570c5fbb">hash_value</a>(Tuple <span class="keyword">const</span>&amp; tuple)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <span class="keywordtype">size_t</span> seed = 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="a00992.html#a3ad7c94026889abb55ee0c8f53bb85af">detail::HashValueImpl&lt;Tuple&gt;::apply</a>(seed, tuple);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">return</span> seed;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="a00088.html">   77</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="a00088.html">Rcpp</a> {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="comment">// vectors of pairs: recursively defined</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;std::pair&lt;T1,T2&gt; &gt; v);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="comment">// vectors tuples: enumerated cases</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2&gt; &gt; v);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3&gt;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3&gt; &gt; v);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4&gt;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3,T4&gt; &gt; v);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5&gt;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5&gt; &gt; v);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6&gt;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6&gt; &gt; v);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7&gt;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7&gt; &gt; v);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7, <span class="keyword">class</span> T8&gt;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt; &gt; v);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7, <span class="keyword">class</span> T8, <span class="keyword">class</span> T9&gt;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8,T9&gt; &gt; v);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7, <span class="keyword">class</span> T8, <span class="keyword">class</span> T9, <span class="keyword">class</span> T10&gt;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    SEXP <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">wrap</a>(<span class="keyword">const</span> std::vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8,T9,T10&gt; &gt; v);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// maps defined in terms of vectors</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> std::map&lt;T1,T2&gt; v);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> std::map&lt;std::pair&lt;T1a,T1b&gt;,T2&gt; v,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;          std::string key, std::string name1, std::string name2);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T1c, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> std::map&lt;boost::tuple&lt;T1a,T1b,T1c&gt;,T2&gt; v,</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          std::string key, std::string name1, std::string name2, std::string name3);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160; </div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5&gt;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> std::map&lt;std::pair&lt;boost::tuple&lt;T1,T2,T3&gt;,T4&gt;,T5&gt; v,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;          std::string key, std::string name1, std::string name2);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="comment">// unordered_maps defined in terms of vectors</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;T1,T2&gt; v);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;std::pair&lt;T1a,T1b&gt;,T2&gt; v,</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;          std::string key, std::string name1, std::string name2);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T1c, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;boost::tuple&lt;T1a,T1b,T1c&gt;,T2&gt; v,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;          std::string key, std::string name1, std::string name2, std::string name3);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5&gt;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    SEXP <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;std::pair&lt;boost::tuple&lt;T1,T2,T3&gt;,T4&gt;,T5&gt; v,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          std::string key, std::string name1, std::string name2);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;} <span class="comment">// namespace Rcpp</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#include &lt;Rcpp.h&gt;</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor">#include &lt;R.h&gt;</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="preprocessor">#include &lt;Rmath.h&gt;</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="preprocessor">#include &lt;Rdefines.h&gt;</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="preprocessor">#include &lt;R_ext/Random.h&gt;</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00065.html">siena/ssim.h</a>&gt;</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00062.html">RngStream.h</a>&gt;</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="a00059.html">rcpp_table.h</a>&gt;</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">//#include &lt;map&gt;</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="preprocessor">#include &lt;boost/bind.hpp&gt;</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="preprocessor">#include &lt;boost/functional.hpp&gt;</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">namespace </span><a class="code" href="a00078.html">ssim</a> {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keyword">using</span> std::string;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">using</span> std::vector;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">using</span> std::map;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword">using</span> std::pair;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keyword">using</span> std::greater;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">// forward declarations</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; <span class="keyword">class </span>cProcess;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="a00056.html#ab764f9304b41ac0316774d1d2d025dc0">  180</a></span>&#160;<span class="preprocessor">#define WithRNG(rng,expr) (rng-&gt;set(), expr)</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="a01000.html">  191</a></span>&#160;<span class="keyword">class </span><a class="code" href="a01000.html">cMessage</a> : <span class="keyword">public</span> <a class="code" href="a01076.html">ssim::Event</a> {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="a01000.html#a5fd4482f78fa024113273888b8c950ee">  193</a></span>&#160; <a class="code" href="a01000.html#a5fd4482f78fa024113273888b8c950ee">cMessage</a>(<span class="keyword">const</span> <span class="keywordtype">short</span> k = -1, <span class="keyword">const</span> <span class="keywordtype">string</span> n = <span class="stringliteral">&quot;&quot;</span>) : <a class="code" href="a01000.html#a9de1f2958f2bdc0d9ecfeb44c396c921">kind</a>(k), <a class="code" href="a01000.html#a7b9c2c83c99ba73472c9ed120657fafa">name</a>(n), <a class="code" href="a01000.html#a5957069d7f19e934e382fd021c9990a7">sendingTime</a>(-1.0), <a class="code" href="a01000.html#a1bca7fc8495a53bb3383bb295ad09870">timestamp</a>(0) { }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// currently no setters (keep it lightweight?)</span></div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="a01000.html#ac33203376a9d527d7d576dc0010706e5">  195</a></span>&#160;  <span class="keywordtype">short</span> <a class="code" href="a01000.html#ac33203376a9d527d7d576dc0010706e5">getKind</a>() { <span class="keywordflow">return</span> <a class="code" href="a01000.html#a9de1f2958f2bdc0d9ecfeb44c396c921">kind</a>; }</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="a01000.html#a5c5f3b357b1cd90c55bc49a8bb2d3f89">  196</a></span>&#160;  <span class="keywordtype">string</span> <a class="code" href="a01000.html#a5c5f3b357b1cd90c55bc49a8bb2d3f89">getName</a>() { <span class="keywordflow">return</span> <a class="code" href="a01000.html#a7b9c2c83c99ba73472c9ed120657fafa">name</a>; }</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="a01000.html#a654326fb8db171ade8c1987bedff063d">  197</a></span>&#160;  <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01000.html#a654326fb8db171ade8c1987bedff063d">getTimestamp</a>() { <span class="keywordflow">return</span> <a class="code" href="a01000.html#a1bca7fc8495a53bb3383bb295ad09870">timestamp</a>; }</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="a01000.html#ad92607e6bdf4f518161e2912ada611f3">  198</a></span>&#160;  <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01000.html#ad92607e6bdf4f518161e2912ada611f3">getSendingTime</a>() {<span class="keywordflow">return</span> <a class="code" href="a01000.html#a5957069d7f19e934e382fd021c9990a7">sendingTime</a>; }</div>
<div class="line"><a name="l00199"></a><span class="lineno"><a class="line" href="a01000.html#a9de1f2958f2bdc0d9ecfeb44c396c921">  199</a></span>&#160;  <span class="keywordtype">short</span> <a class="code" href="a01000.html#a9de1f2958f2bdc0d9ecfeb44c396c921">kind</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="a01000.html#a7b9c2c83c99ba73472c9ed120657fafa">  200</a></span>&#160;  <span class="keywordtype">string</span> <a class="code" href="a01000.html#a7b9c2c83c99ba73472c9ed120657fafa">name</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="a01000.html#a1bca7fc8495a53bb3383bb295ad09870">  201</a></span>&#160;  <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01000.html#a5957069d7f19e934e382fd021c9990a7">sendingTime</a>, <a class="code" href="a01000.html#a1bca7fc8495a53bb3383bb295ad09870">timestamp</a>;</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="a01000.html#a74484b769f4291db58b3a97fb018b160">  202</a></span>&#160;  <span class="keywordtype">string</span> <a class="code" href="a01000.html#a74484b769f4291db58b3a97fb018b160">str</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    std::ostringstream stringStream;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    stringStream &lt;&lt; <span class="stringliteral">&quot;kind=&quot;</span>;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    stringStream &lt;&lt; <a class="code" href="a01000.html#a9de1f2958f2bdc0d9ecfeb44c396c921">kind</a>;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    stringStream &lt;&lt; <span class="stringliteral">&quot;,name=&quot;</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    stringStream &lt;&lt; <a class="code" href="a01000.html#a7b9c2c83c99ba73472c9ed120657fafa">name</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">string</span> <a class="code" href="a01000.html#a74484b769f4291db58b3a97fb018b160">str</a> = stringStream.str();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a01000.html#a74484b769f4291db58b3a97fb018b160">str</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">// this does NOT include schedulePriority</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;};</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="a00078.html#a71f4104eb68b6038273581c0532f6510">  214</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00078.html#a71f4104eb68b6038273581c0532f6510">cMessagePred</a>(<span class="keyword">const</span> <a class="code" href="a01076.html">ssim::Event</a>* e, boost::function&lt;<span class="keywordtype">bool</span>(<span class="keyword">const</span> <a class="code" href="a01000.html">cMessage</a> * msg)&gt; pred) {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01000.html">cMessage</a> * msg = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="a01000.html">cMessage</a> *<span class="keyword">&gt;</span>(e);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordflow">return</span> (msg != 0 &amp;&amp; pred(msg));</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="a00078.html#a4ef35b49b12877b0197cecf0f0153993">  219</a></span>&#160; <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00078.html#a4ef35b49b12877b0197cecf0f0153993">cMessageNamePred</a>(<span class="keyword">const</span> <a class="code" href="a01076.html">ssim::Event</a>* e, <span class="keyword">const</span> <span class="keywordtype">string</span> s) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01000.html">cMessage</a> * msg = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="a01000.html">cMessage</a> *<span class="keyword">&gt;</span>(e);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">return</span> (msg != 0 &amp;&amp; msg-&gt;<a class="code" href="a01000.html#a7b9c2c83c99ba73472c9ed120657fafa">name</a> == s);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="a00078.html#a1147310fcfd832b0e699ca136f7b3691">  224</a></span>&#160; <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="a00078.html#a1147310fcfd832b0e699ca136f7b3691">cMessageKindPred</a>(<span class="keyword">const</span> <a class="code" href="a01076.html">ssim::Event</a>* e, <span class="keyword">const</span> <span class="keywordtype">short</span> k) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01000.html">cMessage</a> * msg = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="a01000.html">cMessage</a> *<span class="keyword">&gt;</span>(e);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> (msg != 0 &amp;&amp; msg-&gt;<a class="code" href="a01000.html#a9de1f2958f2bdc0d9ecfeb44c396c921">kind</a> == k);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="a01004.html">  236</a></span>&#160;<span class="keyword">class </span><a class="code" href="a01004.html">cProcess</a> : <span class="keyword">public</span> <a class="code" href="a01080.html">ssim::Process</a> {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="a01004.html#a9b43b5197e57c2b061a373bf80525598">  238</a></span>&#160;  <a class="code" href="a01004.html#a9b43b5197e57c2b061a373bf80525598">cProcess</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01004.html#aee5e55ab025f8870096d8a3170fec878">startTime</a> = <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a>(0.0)) : <a class="code" href="a01004.html#aee5e55ab025f8870096d8a3170fec878">startTime</a>(<a class="code" href="a01004.html#aee5e55ab025f8870096d8a3170fec878">startTime</a>), <a class="code" href="a01004.html#a8abb4f29847dd8bb28996ed6fc5c90c2">previousEventTime</a>(<a class="code" href="a01004.html#aee5e55ab025f8870096d8a3170fec878">startTime</a>) { }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a01004.html#ad89844c8ea2b9f7032191d1747155980">handleMessage</a>(<span class="keyword">const</span> <a class="code" href="a01000.html">cMessage</a> * msg) = 0;</div>
<div class="line"><a name="l00240"></a><span class="lineno"><a class="line" href="a01004.html#abcc748e54cd3a55117e57233d1ad13cf">  240</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a01004.html#abcc748e54cd3a55117e57233d1ad13cf">process_event</a>(<span class="keyword">const</span> <a class="code" href="a01076.html">ssim::Event</a> * e) { <span class="comment">// virtual or not?</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keyword">const</span> <a class="code" href="a01000.html">cMessage</a> * msg;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> ((msg = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="a01000.html">cMessage</a> *<span class="keyword">&gt;</span>(e)) != 0) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="a01004.html#ad89844c8ea2b9f7032191d1747155980">handleMessage</a>(msg);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <a class="code" href="a01004.html#a8abb4f29847dd8bb28996ed6fc5c90c2">previousEventTime</a> = <a class="code" href="a01092.html#aea08c0eb1e82c0bb5e92e5e845230bc0">Sim::clock</a>();</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="comment">// cf. cerr, specialised for R</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      REprintf(<span class="stringliteral">&quot;cProcess is only written to receive cMessage events\n&quot;</span>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  }</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="a01004.html#ac08a0d2fee8a0ca803d524c92c03e5f3">  250</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a01004.html#ac08a0d2fee8a0ca803d524c92c03e5f3">scheduleAt</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> t, <a class="code" href="a01000.html">cMessage</a> * msg) { <span class="comment">// virtual or not?</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    msg-&gt;<a class="code" href="a01000.html#a1bca7fc8495a53bb3383bb295ad09870">timestamp</a> = t;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    msg-&gt;<a class="code" href="a01000.html#a5957069d7f19e934e382fd021c9990a7">sendingTime</a> = <a class="code" href="a01092.html#aea08c0eb1e82c0bb5e92e5e845230bc0">Sim::clock</a>();</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="a01092.html#a732eb86d5dc04434d4ed88cbb62fd155">Sim::self_signal_event</a>(msg, t - <a class="code" href="a01092.html#aea08c0eb1e82c0bb5e92e5e845230bc0">Sim::clock</a>());</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  }</div>
<div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="a01004.html#af3b02872bb630d1c9d84f1ab70ff1e66">  255</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a01004.html#af3b02872bb630d1c9d84f1ab70ff1e66">scheduleAt</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> t, <span class="keywordtype">string</span> s) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="a01004.html#ac08a0d2fee8a0ca803d524c92c03e5f3">scheduleAt</a>(t, <span class="keyword">new</span> <a class="code" href="a01000.html">cMessage</a>(-1,s));</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  }</div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="a01004.html#a644be9dd4246ef5f540e9ede51e7fd0c">  258</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a01004.html#a644be9dd4246ef5f540e9ede51e7fd0c">scheduleAt</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> t, <span class="keywordtype">short</span> k) {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="a01004.html#ac08a0d2fee8a0ca803d524c92c03e5f3">scheduleAt</a>(t, <span class="keyword">new</span> <a class="code" href="a01000.html">cMessage</a>(k,<span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="a01004.html#a8742b8248561ca3064eb8c4f12f88213">init</a>() = 0;</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="a01004.html#a91e08ea2d214e1efc93bb01aa855032f">  262</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a01004.html#a91e08ea2d214e1efc93bb01aa855032f">initialize</a>() { <a class="code" href="a01004.html#a8742b8248561ca3064eb8c4f12f88213">init</a>(); <a class="code" href="a01004.html#a8abb4f29847dd8bb28996ed6fc5c90c2">previousEventTime</a> = <a class="code" href="a01004.html#aee5e55ab025f8870096d8a3170fec878">startTime</a>; }</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="a01004.html#aee5e55ab025f8870096d8a3170fec878">  263</a></span>&#160;  <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01004.html#aee5e55ab025f8870096d8a3170fec878">startTime</a>, <a class="code" href="a01004.html#a8abb4f29847dd8bb28996ed6fc5c90c2">previousEventTime</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;};</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="a00078.html#a02ac50a56e6e544509d8324feb84bc9d">  269</a></span>&#160; <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00078.html#a02ac50a56e6e544509d8324feb84bc9d">RemoveKind</a>(<span class="keywordtype">short</span> kind) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <a class="code" href="a01092.html#a427f151a77fefda3f485ecc850ae720a">Sim::ignore_event</a>(boost::bind(<a class="code" href="a00078.html#a1147310fcfd832b0e699ca136f7b3691">cMessageKindPred</a>,_1,kind));</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="a00078.html#a64ef5a9b487e7250188629e859b4df5e">  276</a></span>&#160; <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="a00078.html#a64ef5a9b487e7250188629e859b4df5e">RemoveName</a>(<span class="keywordtype">string</span> name) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   <a class="code" href="a01092.html#a427f151a77fefda3f485ecc850ae720a">Sim::ignore_event</a>(boost::bind(<a class="code" href="a00078.html#a4ef35b49b12877b0197cecf0f0153993">cMessageNamePred</a>,_1,name));</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00284"></a><span class="lineno"><a class="line" href="a00078.html#a9e8c6f728bb5211c8277306ac0021db7">  284</a></span>&#160;<span class="keyword">typedef</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a00078.html#a9e8c6f728bb5211c8277306ac0021db7">simtime_t</a>;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a00078.html#af2e3f218e7c225a02d8a41a3e58d3134">simTime</a>();</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a00078.html#a4f5da079da642a3ab4bc28f4f307a9d1">now</a>();</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00300"></a><span class="lineno"><a class="line" href="a01008.html">  300</a></span>&#160;<span class="keyword">class </span><a class="code" href="a01008.html">Means</a> {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00302"></a><span class="lineno"><a class="line" href="a01008.html#a56b6b79b62503f1de8ac8949b94dd458">  302</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a01008.html#a56b6b79b62503f1de8ac8949b94dd458">mean</a>() { <span class="keywordflow">return</span> <a class="code" href="a01008.html#ab9dda77576e23b80053ad1972c0e0891">_sum</a>/<a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a>; }</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="a01008.html#a63b30273b662357c8e50928b2cfe7fee">  303</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a01008.html#a63b30273b662357c8e50928b2cfe7fee">var</a>() {<span class="keywordflow">return</span> (<span class="keywordtype">long</span> <span class="keywordtype">double</span>)<a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a>/(<a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a>-1)*(<a class="code" href="a01008.html#ac8b2432cbd21a598d893aa2c82a1bb9a">_sumsq</a>/<a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a> - <a class="code" href="a01008.html#a56b6b79b62503f1de8ac8949b94dd458">mean</a>()*<a class="code" href="a01008.html#a56b6b79b62503f1de8ac8949b94dd458">mean</a>()); }</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="a01008.html#a5c7834b4f85b303cb3ec6bce595081f1">  304</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a01008.html#a5c7834b4f85b303cb3ec6bce595081f1">n</a>() {<span class="keywordflow">return</span> <a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a>;}</div>
<div class="line"><a name="l00305"></a><span class="lineno"><a class="line" href="a01008.html#a9e0222c9c0e006e92b4e1a64e390bb41">  305</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a01008.html#a9e0222c9c0e006e92b4e1a64e390bb41">sum</a>() {<span class="keywordflow">return</span> <a class="code" href="a01008.html#ab9dda77576e23b80053ad1972c0e0891">_sum</a>;}</div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="a01008.html#afc14beada9935595028b0d6684c25da8">  306</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a01008.html#afc14beada9935595028b0d6684c25da8">sd</a>() {<span class="keywordflow">return</span> sqrt(<a class="code" href="a01008.html#a63b30273b662357c8e50928b2cfe7fee">var</a>()); }</div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="a01008.html#ab53d53da74fd84a7cc3eaa48c988ed41">  307</a></span>&#160;  <a class="code" href="a01008.html#ab53d53da74fd84a7cc3eaa48c988ed41">Means</a>() : <a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a>(0), <a class="code" href="a01008.html#ab9dda77576e23b80053ad1972c0e0891">_sum</a>(0.0), <a class="code" href="a01008.html#ac8b2432cbd21a598d893aa2c82a1bb9a">_sumsq</a>(0.0) {}</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="a01008.html#a43d87ac9d9eaa2a1ab10eb7ac483a132">  308</a></span>&#160;  <a class="code" href="a01008.html">Means</a>* <a class="code" href="a01008.html#a43d87ac9d9eaa2a1ab10eb7ac483a132">operator +=</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> value) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a>++;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="a01008.html#ab9dda77576e23b80053ad1972c0e0891">_sum</a> += (<span class="keywordtype">long</span> double) value;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <a class="code" href="a01008.html#ac8b2432cbd21a598d893aa2c82a1bb9a">_sumsq</a> += (<span class="keywordtype">long</span> double)value * (<span class="keywordtype">long</span> <span class="keywordtype">double</span>)value;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno"><a class="line" href="a01008.html#ae5d84ea4cac2eb64bdecd374ec266669">  314</a></span>&#160;  SEXP <a class="code" href="a01008.html#ae5d84ea4cac2eb64bdecd374ec266669">wrap</a>() {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span> Rcpp::DataFrame::create(_(<span class="stringliteral">&quot;n&quot;</span>)=<a class="code" href="a01008.html#a5c7834b4f85b303cb3ec6bce595081f1">n</a>(),</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                   _(<span class="stringliteral">&quot;mean&quot;</span>)=<a class="code" href="a01008.html#a56b6b79b62503f1de8ac8949b94dd458">mean</a>(),</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                   _(<span class="stringliteral">&quot;var&quot;</span>)=<a class="code" href="a01008.html#a63b30273b662357c8e50928b2cfe7fee">var</a>(),</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                   _(<span class="stringliteral">&quot;sd&quot;</span>)=<a class="code" href="a01008.html#afc14beada9935595028b0d6684c25da8">sd</a>(),</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                   _(<span class="stringliteral">&quot;se&quot;</span>)=<a class="code" href="a01008.html#afc14beada9935595028b0d6684c25da8">sd</a>()/sqrt(<a class="code" href="a01008.html#a5c7834b4f85b303cb3ec6bce595081f1">n</a>()),</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                   _(<span class="stringliteral">&quot;sum&quot;</span>)=<a class="code" href="a01008.html#a9e0222c9c0e006e92b4e1a64e390bb41">sum</a>(),</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                   _(<span class="stringliteral">&quot;sumsq&quot;</span>)=<a class="code" href="a01008.html#ac8b2432cbd21a598d893aa2c82a1bb9a">_sumsq</a></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                   );</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">//friend std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, Means&amp; m);</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">  326</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">_n</a>;</div>
<div class="line"><a name="l00327"></a><span class="lineno"><a class="line" href="a01008.html#ac8b2432cbd21a598d893aa2c82a1bb9a">  327</a></span>&#160;  <span class="keywordtype">long</span> <span class="keywordtype">double</span> <a class="code" href="a01008.html#ab9dda77576e23b80053ad1972c0e0891">_sum</a>, <a class="code" href="a01008.html#ac8b2432cbd21a598d893aa2c82a1bb9a">_sumsq</a>;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;};</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="a01012.html">  336</a></span>&#160;<span class="keyword">class </span><a class="code" href="a01012.html">Rpexp</a> {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00338"></a><span class="lineno"><a class="line" href="a01012.html#a77227dc1c76d1bb1e64409386226b1c0">  338</a></span>&#160;  <a class="code" href="a01012.html#a77227dc1c76d1bb1e64409386226b1c0">Rpexp</a>() {} <span class="comment">// blank default constructor</span></div>
<div class="line"><a name="l00339"></a><span class="lineno"><a class="line" href="a01012.html#aaededfcc2fc84ccaeccddc0a124dd21c">  339</a></span>&#160;  <a class="code" href="a01012.html#aaededfcc2fc84ccaeccddc0a124dd21c">Rpexp</a>(<span class="keywordtype">double</span> *hin, <span class="keywordtype">double</span> *tin, <span class="keywordtype">int</span> nin) : <a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>(nin) {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>.resize(<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>.resize(<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="a01012.html#ab06650a0197176a359f09f01213746da">h</a>.resize(<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>[0]=0.0; <a class="code" href="a01012.html#ab06650a0197176a359f09f01213746da">h</a>[0]=hin[0]; <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>[0]=tin[0];</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>&gt;1) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      <span class="keywordflow">for</span>(i=1;i&lt;<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>;i++) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="a01012.html#ab06650a0197176a359f09f01213746da">h</a>[i]=hin[i]; <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>[i]=tin[i];</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>[i] = <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>[i-1]+(<a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>[i]-<a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>[i-1])*<a class="code" href="a01012.html#ab06650a0197176a359f09f01213746da">h</a>[i-1];</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;  }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; <span class="comment">/* Rpexp(vector&lt;double&gt; hin, vector&lt;double&gt; tin) : h(hin), t(tin) { */</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; <span class="comment">/*    n = h.size(); */</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160; <span class="comment">/*    H.resize(n); */</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; <span class="comment">/*    H[0] = 0.0; */</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; <span class="comment">/*    if (n&gt;1) { */</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; <span class="comment">/*      for(i=1;i&lt;n;i++) { */</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160; <span class="comment">/*     H[i] = H[i-1]+(t[i]-t[i-1])*h[i-1]; */</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; <span class="comment">/*      } */</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160; <span class="comment">/*    } */</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; <span class="comment">/*  } */</span></div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="a01012.html#a714da39c6da94b1208d4d52ebf61990d">  362</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a01012.html#a714da39c6da94b1208d4d52ebf61990d">rand</a>(<span class="keywordtype">double</span> u, <span class="keywordtype">double</span> from = 0.0) {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordtype">double</span> v = 0.0, H0 = 0.0, tstar = 0.0;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordtype">int</span> i = 0, i0 = 0;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="keywordflow">if</span> (from &gt; 0.0) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      i0 = (from &gt;= <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>[<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>-1]) ? (<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>-1) : int(lower_bound(<a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>.begin(), <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>.end(), from) - <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>.begin())-1;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      H0 = <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>[i0] + (from - <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>[i0])*<a class="code" href="a01012.html#ab06650a0197176a359f09f01213746da">h</a>[i0];</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    v = -log(u) + H0;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    i = (v &gt;= <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>[<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>-1]) ? (<a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>-1) : int(lower_bound(<a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>.begin(), <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>.end(), v) - <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>.begin())-1;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    tstar = <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>[i]+(v-<a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>[i])/<a class="code" href="a01012.html#ab06650a0197176a359f09f01213746da">h</a>[i];</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">return</span> tstar;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00376"></a><span class="lineno"><a class="line" href="a01012.html#a45781ec6868785bba597cd5843ee5506">  376</a></span>&#160;  vector&lt;double&gt; <a class="code" href="a01012.html#af0b2868480df6575dacacdaff0b87c04">H</a>, <a class="code" href="a01012.html#ab06650a0197176a359f09f01213746da">h</a>, <a class="code" href="a01012.html#a45781ec6868785bba597cd5843ee5506">t</a>;</div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">  377</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">n</a>;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;};</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="keywordtype">double</span> <a class="code" href="a00078.html#aa5335eb8e11374534f54f91af6889c8f">rweibullHR</a>(<span class="keywordtype">double</span> shape, <span class="keywordtype">double</span> scale, <span class="keywordtype">double</span> hr);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00392"></a><span class="lineno"><a class="line" href="a00078.html#aaadf0ab5ca8eb7c55bdb45b5a28fda91">  392</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="a00078.html#aaadf0ab5ca8eb7c55bdb45b5a28fda91">counter_id</a> = 0;</div>
<div class="line"><a name="l00393"></a><span class="lineno"><a class="line" href="a01016.html">  393</a></span>&#160;<span class="keyword">class </span><a class="code" href="a01016.html">Rng</a> : <span class="keyword">public</span> <a class="code" href="a01072.html">RngStream</a> {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="a01016.html#aa606303a2f39a430e29436d1da106ca4">  395</a></span>&#160;  <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code" href="a01016.html#aa606303a2f39a430e29436d1da106ca4">result_type</a>;</div>
<div class="line"><a name="l00396"></a><span class="lineno"><a class="line" href="a01016.html#a2f7fae91e4ef9886d90101f4a5da6633">  396</a></span>&#160;  <a class="code" href="a01016.html#aa606303a2f39a430e29436d1da106ca4">result_type</a> <a class="code" href="a01016.html#a2f7fae91e4ef9886d90101f4a5da6633">operator()</a>() { <span class="keywordflow">return</span> <a class="code" href="a01072.html#a6a8619ad20a86429e0e718023d8dc23c">RandU01</a>(); }</div>
<div class="line"><a name="l00397"></a><span class="lineno"><a class="line" href="a01016.html#af753c1dc6487ef0ddc43d179f015634f">  397</a></span>&#160;  <a class="code" href="a01016.html#aa606303a2f39a430e29436d1da106ca4">result_type</a> <a class="code" href="a01016.html#af753c1dc6487ef0ddc43d179f015634f">min</a>() { <span class="keywordflow">return</span> 0.0; }</div>
<div class="line"><a name="l00398"></a><span class="lineno"><a class="line" href="a01016.html#ad997d7be32751dbb9328d162a463b8a5">  398</a></span>&#160;  <a class="code" href="a01016.html#aa606303a2f39a430e29436d1da106ca4">result_type</a> <a class="code" href="a01016.html#ad997d7be32751dbb9328d162a463b8a5">max</a>() { <span class="keywordflow">return</span> 1.0; }</div>
<div class="line"><a name="l00399"></a><span class="lineno"><a class="line" href="a01016.html#a3078607710e93eb844c69c8a87815c4c">  399</a></span>&#160;  <a class="code" href="a01016.html#a3078607710e93eb844c69c8a87815c4c">Rng</a>() : <a class="code" href="a01072.html">RngStream</a>() { <span class="keywordtype">id</span> = ++<a class="code" href="a00078.html#aaadf0ab5ca8eb7c55bdb45b5a28fda91">counter_id</a>; }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="a01016.html#ac0f9cf7cb25e40e6192873881dbaf886">~Rng</a>();</div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="a01016.html#a9bc74ef99cdae9a9b1d50f82e4e4df2f">  401</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a01016.html#a9bc74ef99cdae9a9b1d50f82e4e4df2f">seed</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="a01016.html#a9bc74ef99cdae9a9b1d50f82e4e4df2f">seed</a>[6]) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <a class="code" href="a01072.html#a4283dd67bb5f803ac79ddf561a0c2bb4">SetSeed</a>(<a class="code" href="a01016.html#a9bc74ef99cdae9a9b1d50f82e4e4df2f">seed</a>);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a01016.html#a9131694f316cd113a25dd40162c2c9d9">set</a>();</div>
<div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="a01016.html#a0b5c9231912529372cb069429f28c100">  405</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a01016.html#a0b5c9231912529372cb069429f28c100">nextSubstream</a>() { <a class="code" href="a01072.html#a64a7e00b2874826622e4b2fc3503e177">ResetNextSubstream</a>(); }</div>
<div class="line"><a name="l00406"></a><span class="lineno"><a class="line" href="a01016.html#a75b225be4dfc4643da942a8e518824d3">  406</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="a01016.html#a75b225be4dfc4643da942a8e518824d3">id</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;};</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> { <span class="comment">// functions that will be called from R</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00078.html#a65d4b320e17111259724742cbb8bd004">r_create_current_stream</a>();</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160; </div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00078.html#af5da6fd167a9f5b9e5ec4666d24c3771">r_remove_current_stream</a>();</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00078.html#a28ae2633f74ef7f8ed4ffd0552c2ae19">r_set_user_random_seed</a>(<span class="keywordtype">double</span> * seed);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160; </div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00078.html#ac54d5e04a1e55217c6706f84e20f0af1">r_get_user_random_seed</a>(<span class="keywordtype">double</span> * seed);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="comment">/* /\**  */</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  <span class="comment">/*     @brief A utility function to move to the next user random stream for the simulation. */</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="comment">/* *\/ */</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="comment">/* void r_next_rng_stream(); */</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00078.html#a6f238ca839eccc289bfbc52c65645a3e">r_next_rng_substream</a>();</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160; </div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00078.html#a6d41a0abcee760467e36c4bf7b4f1e92">r_rng_advance_substream</a>(<span class="keywordtype">double</span> * seed, <span class="keywordtype">int</span> * n);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="a00078.html#a92ea4368d680bc6f17e71e508139b720">test_rstream2</a>(<span class="keywordtype">double</span> * x);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;} <span class="comment">// extern &quot;C&quot;</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160; </div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="a00078.html#a440a324691afecd012af46363a59b135">  461</a></span>&#160;<span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="a00078.html#a440a324691afecd012af46363a59b135">discountedInterval</a>(<span class="keywordtype">double</span> start, <span class="keywordtype">double</span> end, <span class="keywordtype">double</span> discountRate) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keywordflow">if</span> (discountRate == 0.0) <span class="keywordflow">return</span> end - start;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="comment">//else if (start == 0.0) return (1.0 - (1.0+discountRate)^(-end)) / log(1.0+discountRate);</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">return</span> (pow(1.0+discountRate,-start) - pow(1.0+discountRate,-end)) / log(1.0+discountRate);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;}</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160; </div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160; </div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160; <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="a00078.html#ae340d82173ad44dfe8cebe82d8e686cd">  475</a></span>&#160;   std::vector&lt;std::vector&lt;T&gt; &gt; <a class="code" href="a00078.html#ae340d82173ad44dfe8cebe82d8e686cd">transpose</a>(<span class="keyword">const</span> std::vector&lt;std::vector&lt;T&gt; &gt; data) {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   std::vector&lt;std::vector&lt;T&gt; &gt; result(data[0].size(),</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;                       std::vector&lt;T&gt;(data.size()));</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">typename</span> std::vector&lt;T&gt;::size_type i = 0; i &lt; data[0].size(); i++)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">for</span> (<span class="keyword">typename</span> std::vector&lt;T&gt;::size_type j = 0; j &lt; data.size(); j++) {</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    result[i][j] = data[j][i];</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="keywordflow">return</span> result;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160; }</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; <span class="keyword">template</span>&lt; <span class="keyword">class</span> State, <span class="keyword">class</span> Event, <span class="keyword">class</span> Time = <span class="keywordtype">double</span>, <span class="keyword">class</span> Utility = <span class="keywordtype">double</span>&gt;</div>
<div class="line"><a name="l00490"></a><span class="lineno"><a class="line" href="a01020.html">  490</a></span>&#160;   <span class="keyword">class </span><a class="code" href="a01020.html">EventReport</a> {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="a01020.html#a76de84761e74ae0c212c7b253f9c7089">  492</a></span>&#160; <span class="keyword">typedef</span> std::set&lt;Time, std::greater&lt;Time&gt; &gt; <a class="code" href="a01020.html#a76de84761e74ae0c212c7b253f9c7089">Partition</a>; <span class="comment">// NB: greater&lt;Time&gt; cf. lesser&lt;Time&gt;</span></div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="a01020.html#a00cc4e5b42261e708158d4ef87caa713">  493</a></span>&#160; <span class="keyword">typedef</span> <span class="keyword">typename</span> Partition::iterator <a class="code" href="a01020.html#a00cc4e5b42261e708158d4ef87caa713">Iterator</a>;</div>
<div class="line"><a name="l00494"></a><span class="lineno"><a class="line" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">  494</a></span>&#160; <span class="keyword">typedef</span> std::pair&lt;State,Time&gt; <a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>;</div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="a01020.html#a68dd9f99ffe7b6dabe328982d11e932f">  495</a></span>&#160; <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, <span class="keywordtype">int</span> &gt; <a class="code" href="a01020.html#a68dd9f99ffe7b6dabe328982d11e932f">PrevMap</a>;</div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="a01020.html#ab805aacbec6228f9294880772afe4e5a">  496</a></span>&#160; <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, Utility &gt; <a class="code" href="a01020.html#ab805aacbec6228f9294880772afe4e5a">UtilityMap</a>;</div>
<div class="line"><a name="l00497"></a><span class="lineno"><a class="line" href="a01020.html#afd4a98017583b4957f8e288a4513dae2">  497</a></span>&#160; <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> &gt; <a class="code" href="a01020.html#afd4a98017583b4957f8e288a4513dae2">PtMap</a>;</div>
<div class="line"><a name="l00498"></a><span class="lineno"><a class="line" href="a01020.html#aabbae56d646a3b2d45877ff481d07d87">  498</a></span>&#160; <span class="keyword">typedef</span> boost::unordered_map&lt;boost::tuple&lt;State,Event,Time&gt;, <span class="keywordtype">int</span> &gt; <a class="code" href="a01020.html#aabbae56d646a3b2d45877ff481d07d87">EventsMap</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="a01020.html#a145541f5612d85dd5b22a42f1289e55c">  499</a></span>&#160; <span class="keyword">typedef</span> vector&lt;Utility&gt; <a class="code" href="a01020.html#a145541f5612d85dd5b22a42f1289e55c">IndividualUtilities</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="a01020.html#a430fdce5d6202d52bc1b1ba2a105b362">  500</a></span>&#160;   <a class="code" href="a01020.html#a430fdce5d6202d52bc1b1ba2a105b362">EventReport</a>(Utility <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a> = 0.0, <span class="keywordtype">bool</span> <a class="code" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">outputUtilities</a> = <span class="keyword">true</span>, <span class="keywordtype">int</span> size = 1, <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a> = <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a>(0), <span class="keywordtype">bool</span> <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a> = <span class="keyword">false</span>) :</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;     <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>(<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>), <a class="code" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">outputUtilities</a>(<a class="code" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">outputUtilities</a>), <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>(<a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>), <a class="code" href="a01020.html#adea4209f171ba500507aea63bb90ea2f">id</a>(0), <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>(<a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>) {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.resize(size);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; }</div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="a01020.html#a73d0f731eb55337f2c41ce692d610283">  504</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#a73d0f731eb55337f2c41ce692d610283">resize</a>(<span class="keywordtype">int</span> size) {</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.resize(size);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160; }</div>
<div class="line"><a name="l00507"></a><span class="lineno"><a class="line" href="a01020.html#ad1dba61a4dac6d57d3c6377cb883ae01">  507</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#ad1dba61a4dac6d57d3c6377cb883ae01">setPartition</a>(<span class="keyword">const</span> vector&lt;Time&gt; v) {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;   <a class="code" href="a00011.html#a5e58fd40522df95f81f73af0e0beb58b">copy</a>(v.begin(), v.end(), inserter(<a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>, <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.begin()));</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  }</div>
<div class="line"><a name="l00510"></a><span class="lineno"><a class="line" href="a01020.html#a3ba1e875dbc759a048cd0c6355baa9b3">  510</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#a3ba1e875dbc759a048cd0c6355baa9b3">setPartition</a>(<span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> start, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> finish, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> delta,</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;           <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> maxTime = <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a>(1.0e100)) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;   <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.clear();</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> t=start; t&lt;=finish; t+=delta) <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.insert(t);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;   <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.insert(maxTime);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160; }</div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="a01020.html#a9c9a5c50eb92349fe4abbe98d46613f5">  516</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#a9c9a5c50eb92349fe4abbe98d46613f5">setIndivN</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> n) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;   <a class="code" href="a01020.html#a73d0f731eb55337f2c41ce692d610283">resize</a>(n);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;   <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; }</div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="a01020.html#a0448b0aa6e0e4d0ad5cd4a774df55bf1">  520</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#a0448b0aa6e0e4d0ad5cd4a774df55bf1">setStartReportAge</a>(<span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> a) {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;   <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a> = a;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; }</div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="a01020.html#a79bb02fa4c3828b3810d1f1c57e58228">  523</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#a79bb02fa4c3828b3810d1f1c57e58228">clear</a>() {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;   <a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>.clear();</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   <a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>.clear();</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;   <a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>.clear();</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   <a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>.clear();</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;   <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.clear();</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.clear();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;   <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a> = Utility(0);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160; }</div>
<div class="line"><a name="l00532"></a><span class="lineno"><a class="line" href="a01020.html#ae371ab2ae6b14a9f33f9d65e20970e38">  532</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#ae371ab2ae6b14a9f33f9d65e20970e38">individualReset</a> () {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a00078.html#a4f5da079da642a3ab4bc28f4f307a9d1">now</a>() &gt;= <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>)</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;     <a class="code" href="a01020.html#a6a35f0cbb9cb7b808e7f1c18376096f9">mean_utilities</a> += double(<a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a>);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>) {</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;     <span class="keywordflow">if</span> (<span class="keywordtype">id</span>&gt;=<span class="keywordtype">int</span>(<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.size()))</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;       REprintf(<span class="stringliteral">&quot;Vector too small in EventReport: use resize(int) method&quot;</span>);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;     <span class="keywordflow">else</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;       <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>[<a class="code" href="a01020.html#adea4209f171ba500507aea63bb90ea2f">id</a>] = (<a class="code" href="a00078.html#a4f5da079da642a3ab4bc28f4f307a9d1">now</a>() &gt;= <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>) ? <span class="keywordtype">double</span>(<a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a>) : NA_REAL;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;   }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a> = Utility(0);</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;   <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160; }</div>
<div class="line"><a name="l00544"></a><span class="lineno"><a class="line" href="a01020.html#ac266e138fd735d862ee4855ed8d75d25">  544</a></span>&#160; Utility <a class="code" href="a01020.html#ac266e138fd735d862ee4855ed8d75d25">discountedUtilities</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> a, <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> b, Utility utility = 1.0) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a> == 0.0) <span class="keywordflow">return</span> utility * (b-a);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a==b) <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>&gt;0.0) {</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;     <span class="keywordtype">double</span> alpha = log(1.0+<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>);</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;     <span class="keywordflow">return</span> utility/alpha*(exp(-a*alpha) - exp(-b*alpha));</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;   }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;   <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;     REprintf(<span class="stringliteral">&quot;discountRate less than zero.&quot;</span>);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;     <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;   }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160; }</div>
<div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="a01020.html#a9237f52c317f150729619e75dd3d1781">  556</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#a9237f52c317f150729619e75dd3d1781">addBrief</a>(<span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> lhs, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> rhs, <span class="keyword">const</span> Utility utility = 1) {</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;   <span class="keywordflow">if</span> (rhs &gt;= <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;     <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a> += <a class="code" href="a01020.html#ac266e138fd735d862ee4855ed8d75d25">discountedUtilities</a>(std::max&lt;Time&gt;(lhs-<a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>,<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a>(0)), rhs-<a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>, utility);</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; }</div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="a01020.html#afe9b8907e7d5d9fb907f92dc7f5f6abc">  560</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#afe9b8907e7d5d9fb907f92dc7f5f6abc">add</a>(<span class="keyword">const</span> State state, <span class="keyword">const</span> <a class="code" href="a01076.html">Event</a> event, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> lhs, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> rhs, <span class="keyword">const</span> Utility utility = 1, <span class="keywordtype">int</span> index = 0 <span class="comment">/* deprecated argument */</span>) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;   <a class="code" href="a01020.html#a9237f52c317f150729619e75dd3d1781">addBrief</a>(lhs, rhs, utility);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;   <a class="code" href="a01020.html#a00cc4e5b42261e708158d4ef87caa713">Iterator</a> lo, hi, <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, last;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;   lo = <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.lower_bound(lhs);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;   hi = <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.lower_bound(rhs);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   last = <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.begin(); <span class="comment">// because it is ordered by greater&lt;Time&gt;</span></div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   ++<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>[boost::make_tuple(state,event,*hi)];</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordtype">bool</span> iterating;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;   <span class="keywordflow">for</span>(<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> = lo, iterating = <span class="keyword">true</span>; iterating; iterating = (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != hi), --<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>) { <span class="comment">// decrement for greater&lt;Time&gt;</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keywordflow">if</span> (lhs&lt;=(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>) &amp;&amp; (*it)&lt;rhs) <span class="comment">// cadlag</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        ++<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)];</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> == last) {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">outputUtilities</a>) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      Utility u = <a class="code" href="a01020.html#ac266e138fd735d862ee4855ed8d75d25">discountedUtilities</a>(std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>), rhs, utility);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      <a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += u;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += rhs - std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> next_value = *(--<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>); <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>++; <span class="comment">// decrement/increment for greater&lt;Time&gt;</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">outputUtilities</a>) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;      Utility u = <a class="code" href="a01020.html#ac266e138fd735d862ee4855ed8d75d25">discountedUtilities</a>(std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>), std::min&lt;Time&gt;(rhs,next_value), utility);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      <a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += u;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += std::min&lt;Time&gt;(rhs,next_value) - std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;   }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160; }</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160; <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="a01020.html#ab6ed5f452c61b9ffa923f960cc8730da">  589</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#ab6ed5f452c61b9ffa923f960cc8730da">append_map</a>(T &amp; base_map, T &amp; new_map) {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;   <span class="keyword">typename</span> T::iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> = new_map.begin(); <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != new_map.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;     base_map[<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;first] += <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;second;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160; }</div>
<div class="line"><a name="l00594"></a><span class="lineno"><a class="line" href="a01020.html#af0b04ad5b8e6a71ccf448bc30ffb9d37">  594</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01020.html#af0b04ad5b8e6a71ccf448bc30ffb9d37">append</a>(<a class="code" href="a01020.html">EventReport&lt;State,Event,Time,Utility&gt;</a> &amp; er) {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;   append_map&lt;PrevMap&gt;(<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>,er.<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;   append_map&lt;EventsMap&gt;(<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>,er.<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;   append_map&lt;PtMap&gt;(<a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>,er.<a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>);</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;   append_map&lt;UtilityMap&gt;(<a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>,er.<a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.insert(<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.end(), er.<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.begin(), er.<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.end());</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; }</div>
<div class="line"><a name="l00601"></a><span class="lineno"><a class="line" href="a01020.html#a38033cfe30962fab76a804238c773a2f">  601</a></span>&#160; SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>() {</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;   <span class="keyword">using namespace </span><a class="code" href="a00088.html">Rcpp</a>;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>.size() == 0) <span class="keywordflow">return</span> List::create();</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">outputUtilities</a>)</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;       <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;pt&quot;</span>) = wrap_map&lt;State,Time,Time&gt;(<a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;pt&quot;</span>),</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;               _(<span class="stringliteral">&quot;ut&quot;</span>) = wrap_map&lt;State,Time,Utility&gt;(<a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;utility&quot;</span>),</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;               _(<span class="stringliteral">&quot;events&quot;</span>) = wrap_map&lt;State,Event,Time,int&gt;(<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;event&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;number&quot;</span>),</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;               _(<span class="stringliteral">&quot;prev&quot;</span>) = wrap_map&lt;State,Time,int&gt;(<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;number&quot;</span>));</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;   <span class="keywordflow">else</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;     <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;pt&quot;</span>) = wrap_map&lt;State,Time,Time&gt;(<a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;pt&quot;</span>),</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;             _(<span class="stringliteral">&quot;events&quot;</span>) = wrap_map&lt;State,Event,Time,int&gt;(<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;event&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;number&quot;</span>),</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;             _(<span class="stringliteral">&quot;prev&quot;</span>) = wrap_map&lt;State,Time,int&gt;(<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;number&quot;</span>));</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160; }</div>
<div class="line"><a name="l00614"></a><span class="lineno"><a class="line" href="a01020.html#a1537fc0c9d22d0bcc24c11ed83f75581">  614</a></span>&#160; SEXP <a class="code" href="a01020.html#a1537fc0c9d22d0bcc24c11ed83f75581">wrap_indiv</a>() {</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160; }</div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="a01020.html#a5e2cfa54758aa723ac0c838784cbda15">  617</a></span>&#160; SEXP <a class="code" href="a01020.html#a5e2cfa54758aa723ac0c838784cbda15">wrap_means</a>() {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="a01020.html#a6a35f0cbb9cb7b808e7f1c18376096f9">mean_utilities</a>.<a class="code" href="a01008.html#ae5d84ea4cac2eb64bdecd374ec266669">wrap</a>();</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; }</div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">  620</a></span>&#160; Utility <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>, <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">  621</a></span>&#160; <span class="keywordtype">bool</span> <a class="code" href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">outputUtilities</a>;</div>
<div class="line"><a name="l00622"></a><span class="lineno"><a class="line" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">  622</a></span>&#160; <a class="code" href="a01020.html#a76de84761e74ae0c212c7b253f9c7089">Partition</a> <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>;</div>
<div class="line"><a name="l00623"></a><span class="lineno"><a class="line" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">  623</a></span>&#160; <a class="code" href="a01020.html#a68dd9f99ffe7b6dabe328982d11e932f">PrevMap</a> <a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">  624</a></span>&#160; <a class="code" href="a01020.html#ab805aacbec6228f9294880772afe4e5a">UtilityMap</a> <a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">  625</a></span>&#160; <a class="code" href="a01020.html#afd4a98017583b4957f8e288a4513dae2">PtMap</a> <a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">  626</a></span>&#160; <a class="code" href="a01020.html#aabbae56d646a3b2d45877ff481d07d87">EventsMap</a> <a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno"><a class="line" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">  627</a></span>&#160; <a class="code" href="a01020.html#a145541f5612d85dd5b22a42f1289e55c">IndividualUtilities</a> <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>;</div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="a01020.html#a6a35f0cbb9cb7b808e7f1c18376096f9">  628</a></span>&#160; <a class="code" href="a01008.html">Means</a> <a class="code" href="a01020.html#a6a35f0cbb9cb7b808e7f1c18376096f9">mean_utilities</a>;</div>
<div class="line"><a name="l00629"></a><span class="lineno"><a class="line" href="a01020.html#a169127c36528c296adb66beb644e9f58">  629</a></span>&#160; <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>;</div>
<div class="line"><a name="l00630"></a><span class="lineno"><a class="line" href="a01020.html#adea4209f171ba500507aea63bb90ea2f">  630</a></span>&#160; <span class="keywordtype">int</span> <a class="code" href="a01020.html#adea4209f171ba500507aea63bb90ea2f">id</a>;</div>
<div class="line"><a name="l00631"></a><span class="lineno"><a class="line" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">  631</a></span>&#160; <span class="keywordtype">bool</span> <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;};</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160; </div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  <span class="keyword">template</span>&lt; <span class="keyword">class</span> State, <span class="keyword">class</span> Event = <span class="keywordtype">short</span>, <span class="keyword">class</span> Time = <span class="keywordtype">double</span>, <span class="keyword">class</span> Utility = <span class="keywordtype">double</span>, <span class="keyword">class</span> Cost = <span class="keywordtype">double</span>&gt;</div>
<div class="line"><a name="l00638"></a><span class="lineno"><a class="line" href="a01024.html">  638</a></span>&#160;  <span class="keyword">class </span><a class="code" href="a01024.html">SummaryReport</a> {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00640"></a><span class="lineno"><a class="line" href="a01024.html#a2187214089cc3a522b0f935d2afa0d9e">  640</a></span>&#160;    <span class="keyword">typedef</span> std::set&lt;Time, std::greater&lt;Time&gt; &gt; <a class="code" href="a01024.html#a2187214089cc3a522b0f935d2afa0d9e">Partition</a>; <span class="comment">// NB: greater&lt;Time&gt; cf. lesser&lt;Time&gt;</span></div>
<div class="line"><a name="l00641"></a><span class="lineno"><a class="line" href="a01024.html#aaf8109e29b928a406403dff6606e86b3">  641</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> Partition::iterator <a class="code" href="a01024.html#aaf8109e29b928a406403dff6606e86b3">Iterator</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno"><a class="line" href="a01024.html#aba00e703b8ab53b87869a879f2e74f0d">  642</a></span>&#160;    <span class="keyword">typedef</span> std::pair&lt;State,Time&gt; <a class="code" href="a01024.html#aba00e703b8ab53b87869a879f2e74f0d">Pair</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="a01024.html#a16486008f328ff8a084782f5eb1195d3">  643</a></span>&#160;    <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, <span class="keywordtype">int</span> &gt; <a class="code" href="a01024.html#a16486008f328ff8a084782f5eb1195d3">PrevMap</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno"><a class="line" href="a01024.html#a557c5dba2cc89e1b10a2eda66c267eac">  644</a></span>&#160;    <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, Utility &gt; <a class="code" href="a01024.html#a557c5dba2cc89e1b10a2eda66c267eac">UtilityMap</a>;</div>
<div class="line"><a name="l00645"></a><span class="lineno"><a class="line" href="a01024.html#a10931be39d05459246178a61bb5d8989">  645</a></span>&#160;    <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> &gt; <a class="code" href="a01024.html#a10931be39d05459246178a61bb5d8989">PtMap</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="a01024.html#a852e9d0f16a1074bb4d5cea62bdc4793">  646</a></span>&#160;    <span class="keyword">typedef</span> boost::unordered_map&lt;boost::tuple&lt;State,Event,Time&gt;, <span class="keywordtype">int</span> &gt; <a class="code" href="a01024.html#a852e9d0f16a1074bb4d5cea62bdc4793">EventMap</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="a01024.html#ad250c61cd3a82f126f2b387a74aed1fe">  647</a></span>&#160;    <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, Cost &gt; <a class="code" href="a01024.html#ad250c61cd3a82f126f2b387a74aed1fe">CostMap</a>;</div>
<div class="line"><a name="l00648"></a><span class="lineno"><a class="line" href="a01024.html#a0a1276a64e58e897f3e2f9e05ba36130">  648</a></span>&#160;    <span class="keyword">typedef</span> std::vector&lt;Cost&gt; <a class="code" href="a01024.html#a0a1276a64e58e897f3e2f9e05ba36130">IndividualCosts</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno"><a class="line" href="a01024.html#aa4ef1083542a73d7f3cf9f63cec3e3a2">  649</a></span>&#160;    <span class="keyword">typedef</span> std::vector&lt;Utility&gt; <a class="code" href="a01024.html#aa4ef1083542a73d7f3cf9f63cec3e3a2">IndividualUtilities</a>;</div>
<div class="line"><a name="l00650"></a><span class="lineno"><a class="line" href="a01024.html#af8685581b107932c962f198efec29f80">  650</a></span>&#160;    <a class="code" href="a01024.html#af8685581b107932c962f198efec29f80">SummaryReport</a>(<span class="keywordtype">int</span> n = 1, <span class="keywordtype">bool</span> indivp = <span class="keyword">true</span>, Utility <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a> = 0.0) : n(n), indivp(indivp) {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;      <a class="code" href="a01020.html#a73d0f731eb55337f2c41ce692d610283">resize</a>(indivp ? n : 1);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      setDiscountRate(<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      setUtility(1.0);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;      setCost(0.0);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    }</div>
<div class="line"><a name="l00656"></a><span class="lineno"><a class="line" href="a01024.html#adac39083a3a1fe8a4863b40f67431111">  656</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#adac39083a3a1fe8a4863b40f67431111">resize</a>(<span class="keywordtype">int</span> size) {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;      _indivUtilities.resize(size);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      _indivCosts.resize(size);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    }</div>
<div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="a01024.html#a7fc9f95ad39bfc54afa967cb2611d599">  660</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#a7fc9f95ad39bfc54afa967cb2611d599">setDiscountRate</a>(Utility <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>) {</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      setUtilityDiscountRate(<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      setCostDiscountRate(<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="a01024.html#a7df8c37eee8b2b15a0b87e04657c5168">  664</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#a7df8c37eee8b2b15a0b87e04657c5168">setUtilityDiscountRate</a>(Utility <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      this-&gt;utilityDiscountRate = <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      utilityAlpha = log(1.0+utilityDiscountRate);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    }</div>
<div class="line"><a name="l00668"></a><span class="lineno"><a class="line" href="a01024.html#ac6d8863cb108892c4866baa15a120241">  668</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#ac6d8863cb108892c4866baa15a120241">setCostDiscountRate</a>(Cost <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>) {</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      this-&gt;costDiscountRate = <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      costAlpha = log(1.0+costDiscountRate);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div>
<div class="line"><a name="l00672"></a><span class="lineno"><a class="line" href="a01024.html#a76105bc8d624fc161ece333b72d39ee0">  672</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#a76105bc8d624fc161ece333b72d39ee0">setPartition</a>(<span class="keyword">const</span> vector&lt;Time&gt; v) {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="a00011.html#a5e58fd40522df95f81f73af0e0beb58b">copy</a>(v.begin(), v.end(), inserter(<a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>, <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.begin()));</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    }</div>
<div class="line"><a name="l00675"></a><span class="lineno"><a class="line" href="a01024.html#afcb4cd72b5d9235b5eb4d58174e5188b">  675</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#afcb4cd72b5d9235b5eb4d58174e5188b">setPartition</a>(<span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> start, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> finish, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> delta,</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;              <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> maxTime = <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a>(1.0e100)) {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.clear();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> t=start; t&lt;=finish; t+=delta) <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.insert(t);</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.insert(maxTime);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    }</div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="a01024.html#aa8174a8c26d2db80de5cbbf89ad9633b">  681</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#aa8174a8c26d2db80de5cbbf89ad9633b">setUtility</a>(Utility _utility) {</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;      this-&gt;utility = _utility;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    }</div>
<div class="line"><a name="l00684"></a><span class="lineno"><a class="line" href="a01024.html#af4635b03f5dd6ad4eae7bfcd6321a85c">  684</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#af4635b03f5dd6ad4eae7bfcd6321a85c">setCost</a>(Cost _cost) {</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;      this-&gt;cost = _cost;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    }</div>
<div class="line"><a name="l00687"></a><span class="lineno"><a class="line" href="a01024.html#acc158ebfb010717da85783e65f424e66">  687</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#acc158ebfb010717da85783e65f424e66">clear</a>() {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>.clear();</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>.clear();</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      <a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>.clear();</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;      <a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>.clear();</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.clear();</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      _costs.clear();</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      _indivUtilities.clear();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      _indivCosts.clear();</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    }</div>
<div class="line"><a name="l00697"></a><span class="lineno"><a class="line" href="a01024.html#a67aa9625f696ead066832bc1cb656375">  697</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#a67aa9625f696ead066832bc1cb656375">add</a>(<span class="keyword">const</span> State state, <span class="keyword">const</span> <a class="code" href="a01076.html">Event</a> event, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> lhs, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> rhs, <span class="keywordtype">int</span> index = 0) {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      <span class="comment">// Time lhs = process-&gt;previousEventTime;</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;      <span class="comment">// Time rhs = ssim::now();</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;      <span class="keywordflow">if</span> (!indivp) index = 0;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;      <a class="code" href="a01024.html#aaf8109e29b928a406403dff6606e86b3">Iterator</a> lo, hi, <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, last;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      lo = <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.lower_bound(lhs);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      hi = <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.lower_bound(rhs);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      last = <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.begin(); <span class="comment">// because it is ordered by greater&lt;Time&gt;</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      ++<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>[boost::make_tuple(state,event,*hi)];</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordtype">bool</span> iterating;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <span class="keywordflow">for</span>(<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> = lo, iterating = <span class="keyword">true</span>; iterating; iterating = (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != hi), --<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>) { <span class="comment">// decrement for greater&lt;Time&gt;</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="keywordflow">if</span> (lhs&lt;=(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>) &amp;&amp; (*it)&lt;rhs) <span class="comment">// cadlag</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      ++<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)];</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> == last) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      Utility u = discountedUtilityInterval(std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>), rhs, utility);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += u;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      _indivUtilities[index] += u;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      Cost c = discountedCostInterval(std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>), rhs, cost);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      _costs[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += c;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      _indivCosts[index] += c;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      <a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += rhs - std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> next_value = *(--<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>); <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>++; <span class="comment">// decrement/increment for greater&lt;Time&gt;</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      Utility u = discountedUtilityInterval(std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>), std::min&lt;Time&gt;(rhs,next_value), utility);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += u;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      _indivUtilities[index] += u;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      Cost c = discountedCostInterval(std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>), std::min&lt;Time&gt;(rhs,next_value), cost);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      _costs[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += c;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      _indivCosts[index] += c;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;      <a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)] += std::min&lt;Time&gt;(rhs,next_value) - std::max&lt;Time&gt;(lhs,*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      }</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    }</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// void addPointCost(const State state, const Time time, const Cost cost, const int index = 0) {</span></div>
<div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="a01024.html#a7ff5b77cc029a28a99a1795a95d4cc16">  732</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#a7ff5b77cc029a28a99a1795a95d4cc16">addPointCost</a>(<span class="keyword">const</span> State state, <span class="keyword">const</span> Cost cost, <span class="keywordtype">int</span> index = 0) {</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      <span class="keywordflow">if</span> (!indivp) index = 0;</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> time = <a class="code" href="a00078.html#a4f5da079da642a3ab4bc28f4f307a9d1">ssim::now</a>();</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> time_lhs = * <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.lower_bound(time);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      Cost c = discountedCost(time,cost);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      _costs[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,time_lhs)] += c;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      _indivCosts[index] += c;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    }</div>
<div class="line"><a name="l00740"></a><span class="lineno"><a class="line" href="a01024.html#afec9a874f389406d7271f489fc159d1c">  740</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#afec9a874f389406d7271f489fc159d1c">append</a>(<a class="code" href="a01024.html">SummaryReport&lt;State,Event,Time,Utility&gt;</a> &amp; er) {</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      append_map&lt;PrevMap&gt;(<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>,er.<a class="code" href="a01024.html#a54a5c270e07d186878588030782f7a1e">_prev</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      append_map&lt;EventMap&gt;(<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>,er.<a class="code" href="a01024.html#a2f39514adad2e8e91ec0d75216f0a1c5">_events</a>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      append_map&lt;PtMap&gt;(<a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>,er.<a class="code" href="a01024.html#a68b9a6f803db2b614e8f1306d593d656">_pt</a>);</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      append_map&lt;UtilityMap&gt;(<a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>,er.<a class="code" href="a01024.html#ae237eb4fe45591eebbce3d6d6fff6685">_ut</a>);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      append_map&lt;CostMap&gt;(_costs,er.<a class="code" href="a01024.html#a0fd9c37de89cf22f8b36b40db4b2719b">_costs</a>);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      _indivUtilities.insert(_indivUtilities.end(), er.<a class="code" href="a01024.html#ac5a1dc26166315f9dd10aabc7657ab20">_indivUtilities</a>.begin(), er.<a class="code" href="a01024.html#ac5a1dc26166315f9dd10aabc7657ab20">_indivUtilities</a>.end());</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      _indivCosts.insert(_indivCosts.end(), er.<a class="code" href="a01024.html#a9e661f7b9afdb2e048fb549cca985c2e">_indivCosts</a>.begin(), er.<a class="code" href="a01024.html#a9e661f7b9afdb2e048fb549cca985c2e">_indivCosts</a>.end());</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    }</div>
<div class="line"><a name="l00749"></a><span class="lineno"><a class="line" href="a01024.html#a46dfab92c306ff6900f08a4f76fab554">  749</a></span>&#160;    Rcpp::List <a class="code" href="a01024.html#a46dfab92c306ff6900f08a4f76fab554">asList</a>() {</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;      <span class="keyword">using namespace </span><a class="code" href="a00088.html">Rcpp</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>.size() == 0) <span class="keywordflow">return</span> List::create();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      Rcpp::DataFrame <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a> =</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    Rcpp::DataFrame::create(_(<span class="stringliteral">&quot;utilities&quot;</span>)=_indivUtilities,</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;                _(<span class="stringliteral">&quot;costs&quot;</span>)=_indivCosts);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      Rcpp::List out = List::create(_(<span class="stringliteral">&quot;pt&quot;</span>) = wrap_map&lt;State,Time,Time&gt;(<a class="code" href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">_pt</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;pt&quot;</span>),</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;                    _(<span class="stringliteral">&quot;ut&quot;</span>) = wrap_map&lt;State,Time,Utility&gt;(<a class="code" href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">_ut</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;utility&quot;</span>),</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                    _(<span class="stringliteral">&quot;events&quot;</span>) = wrap_map&lt;State,Event,Time,int&gt;(<a class="code" href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">_events</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;event&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;number&quot;</span>),</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                    _(<span class="stringliteral">&quot;prev&quot;</span>) = wrap_map&lt;State,Time,int&gt;(<a class="code" href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">_prev</a>,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;number&quot;</span>),</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;                    _(<span class="stringliteral">&quot;costs&quot;</span>) = wrap_map&lt;State,Time,Cost&gt;(_costs,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;cost&quot;</span>),</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                    _(<span class="stringliteral">&quot;n&quot;</span>)=n,</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;                    _(<span class="stringliteral">&quot;indivp&quot;</span>)=indivp,</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                    _(<span class="stringliteral">&quot;utilityDiscountRate&quot;</span>)=utilityDiscountRate,</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                    _(<span class="stringliteral">&quot;costDiscountRate&quot;</span>)=costDiscountRate,</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                    _(<span class="stringliteral">&quot;indiv&quot;</span>)=<a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      out.attr(<span class="stringliteral">&quot;class&quot;</span>)=<span class="stringliteral">&quot;SummaryReport&quot;</span>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      <span class="keywordflow">return</span> out;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    }</div>
<div class="line"><a name="l00768"></a><span class="lineno"><a class="line" href="a01024.html#a645a5faaf92f3f78946a534335f2a342">  768</a></span>&#160;    Utility <a class="code" href="a01024.html#a645a5faaf92f3f78946a534335f2a342">discountedUtilityInterval</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> a, <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> b, Utility utility) {</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      <span class="keywordflow">if</span> (a == b || utility == 0.0) <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (utilityDiscountRate == 0.0) <span class="keywordflow">return</span> utility * (b-a);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (utilityDiscountRate&gt;0.0) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">return</span> utility/utilityAlpha*(exp(-a*utilityAlpha) - exp(-b*utilityAlpha));</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      }</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    REprintf(<span class="stringliteral">&quot;utilityDiscountRate less than zero: %f.\n&quot;</span>, utilityDiscountRate);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div>
<div class="line"><a name="l00779"></a><span class="lineno"><a class="line" href="a01024.html#aa0690dd36d0f4fe584a9eaf0ffbc500b">  779</a></span>&#160;    Cost <a class="code" href="a01024.html#aa0690dd36d0f4fe584a9eaf0ffbc500b">discountedCostInterval</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> a, <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> b, Cost cost) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      <span class="keywordflow">if</span> (a == b || cost == 0.0) <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (costDiscountRate == 0.0) <span class="keywordflow">return</span> cost * (b-a);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (costDiscountRate&gt;0.0) {</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">return</span> cost/costAlpha*(exp(-a*costAlpha) - exp(-b*costAlpha));</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    REprintf(<span class="stringliteral">&quot;costDiscountRate less than zero: %f.\n&quot;</span>, costDiscountRate);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div>
<div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="a01024.html#a50137aa366ec62ea4a72b23644e3f006">  790</a></span>&#160;    Cost <a class="code" href="a01024.html#a50137aa366ec62ea4a72b23644e3f006">discountedCost</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> a, Cost cost) {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <span class="keywordflow">if</span> (cost == 0.0) <span class="keywordflow">return</span> 0.0;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (costDiscountRate == 0.0) <span class="keywordflow">return</span> cost;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (costDiscountRate&gt;0)</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">return</span> cost*exp(-a*costAlpha);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    REprintf(<span class="stringliteral">&quot;costDiscountRate less than zero: %f.\n&quot;</span>, costDiscountRate);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00801"></a><span class="lineno"><a class="line" href="a01024.html#abc9178f6aae13e8480d9c8f3a8b8eed0">  801</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="a01024.html#abc9178f6aae13e8480d9c8f3a8b8eed0">append_map</a>(T &amp; base_map, T &amp; new_map) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <span class="keyword">typename</span> T::iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> = new_map.begin(); <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != new_map.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    base_map[<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;first] += <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;second;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    }</div>
<div class="line"><a name="l00806"></a><span class="lineno"><a class="line" href="a01024.html#a2b0ba43249d048b2ab86d77a70e9bd98">  806</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="a01024.html#a2b0ba43249d048b2ab86d77a70e9bd98">n</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno"><a class="line" href="a01024.html#a44f6d78d102f4a9f822a67633d3fbe68">  807</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="a01024.html#a44f6d78d102f4a9f822a67633d3fbe68">indivp</a>;</div>
<div class="line"><a name="l00808"></a><span class="lineno"><a class="line" href="a01024.html#a3b95e061e5677f549b79eb7274dd89be">  808</a></span>&#160;    <a class="code" href="a01024.html#a2187214089cc3a522b0f935d2afa0d9e">Partition</a> <a class="code" href="a01024.html#a3b95e061e5677f549b79eb7274dd89be">_partition</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="a01024.html#a54a5c270e07d186878588030782f7a1e">  809</a></span>&#160;    <a class="code" href="a01024.html#a16486008f328ff8a084782f5eb1195d3">PrevMap</a> <a class="code" href="a01024.html#a54a5c270e07d186878588030782f7a1e">_prev</a>;</div>
<div class="line"><a name="l00810"></a><span class="lineno"><a class="line" href="a01024.html#ae237eb4fe45591eebbce3d6d6fff6685">  810</a></span>&#160;    <a class="code" href="a01024.html#a557c5dba2cc89e1b10a2eda66c267eac">UtilityMap</a> <a class="code" href="a01024.html#ae237eb4fe45591eebbce3d6d6fff6685">_ut</a>;</div>
<div class="line"><a name="l00811"></a><span class="lineno"><a class="line" href="a01024.html#a68b9a6f803db2b614e8f1306d593d656">  811</a></span>&#160;    <a class="code" href="a01024.html#a10931be39d05459246178a61bb5d8989">PtMap</a> <a class="code" href="a01024.html#a68b9a6f803db2b614e8f1306d593d656">_pt</a>;</div>
<div class="line"><a name="l00812"></a><span class="lineno"><a class="line" href="a01024.html#a2f39514adad2e8e91ec0d75216f0a1c5">  812</a></span>&#160;    <a class="code" href="a01024.html#a852e9d0f16a1074bb4d5cea62bdc4793">EventMap</a> <a class="code" href="a01024.html#a2f39514adad2e8e91ec0d75216f0a1c5">_events</a>;</div>
<div class="line"><a name="l00813"></a><span class="lineno"><a class="line" href="a01024.html#a0fd9c37de89cf22f8b36b40db4b2719b">  813</a></span>&#160;    <a class="code" href="a01024.html#ad250c61cd3a82f126f2b387a74aed1fe">CostMap</a> <a class="code" href="a01024.html#a0fd9c37de89cf22f8b36b40db4b2719b">_costs</a>;</div>
<div class="line"><a name="l00814"></a><span class="lineno"><a class="line" href="a01024.html#ac5a1dc26166315f9dd10aabc7657ab20">  814</a></span>&#160;    <a class="code" href="a01024.html#aa4ef1083542a73d7f3cf9f63cec3e3a2">IndividualUtilities</a> <a class="code" href="a01024.html#ac5a1dc26166315f9dd10aabc7657ab20">_indivUtilities</a>;</div>
<div class="line"><a name="l00815"></a><span class="lineno"><a class="line" href="a01024.html#a9e661f7b9afdb2e048fb549cca985c2e">  815</a></span>&#160;    <a class="code" href="a01024.html#a0a1276a64e58e897f3e2f9e05ba36130">IndividualCosts</a> <a class="code" href="a01024.html#a9e661f7b9afdb2e048fb549cca985c2e">_indivCosts</a>;</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">// cProcess *process;</span></div>
<div class="line"><a name="l00817"></a><span class="lineno"><a class="line" href="a01024.html#a06fcd6b9473e3f9019ff83224c84124f">  817</a></span>&#160;    Utility <a class="code" href="a01024.html#a06fcd6b9473e3f9019ff83224c84124f">utilityDiscountRate</a>, utilityAlpha, utility;</div>
<div class="line"><a name="l00818"></a><span class="lineno"><a class="line" href="a01024.html#a20233fd551c90d23ce44793ca32e534e">  818</a></span>&#160;    Cost <a class="code" href="a01024.html#a20233fd551c90d23ce44793ca32e534e">costDiscountRate</a>, costAlpha, cost;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  };</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160; <span class="keyword">template</span>&lt; <span class="keyword">class</span> State, <span class="keyword">class</span> Time = <span class="keywordtype">double</span>, <span class="keyword">class</span> Cost = <span class="keywordtype">double</span>&gt;</div>
<div class="line"><a name="l00825"></a><span class="lineno"><a class="line" href="a01028.html">  825</a></span>&#160;   <span class="keyword">class </span><a class="code" href="a01028.html">CostReport</a> {</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00827"></a><span class="lineno"><a class="line" href="a01028.html#a85355713f61399b41e93bae150eaa59c">  827</a></span>&#160; <span class="keyword">typedef</span> std::set&lt;Time, std::greater&lt;Time&gt; &gt; <a class="code" href="a01028.html#a85355713f61399b41e93bae150eaa59c">Partition</a>;</div>
<div class="line"><a name="l00828"></a><span class="lineno"><a class="line" href="a01028.html#aab4f6b5cd1f718df6bc74fd15500b80b">  828</a></span>&#160; <span class="keyword">typedef</span> std::pair&lt;State,Time&gt; <a class="code" href="a01028.html#aab4f6b5cd1f718df6bc74fd15500b80b">Pair</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno"><a class="line" href="a01028.html#ad94d0b86f18dcb112141311423cc061f">  829</a></span>&#160; <span class="keyword">typedef</span> <a class="code" href="a01028.html">CostReport&lt;State,Time,Cost&gt;</a> <a class="code" href="a01028.html#ad94d0b86f18dcb112141311423cc061f">This</a>;</div>
<div class="line"><a name="l00830"></a><span class="lineno"><a class="line" href="a01028.html#a1818b65ab96e1dc37548fbaf510f041b">  830</a></span>&#160; <span class="keyword">typedef</span> boost::unordered_map&lt;pair&lt;State,Time&gt;, Cost &gt; <a class="code" href="a01028.html#a1818b65ab96e1dc37548fbaf510f041b">Table</a>;</div>
<div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="a01028.html#aa9b126b5d0d0960827e920d2194b8683">  831</a></span>&#160; <span class="keyword">typedef</span> std::vector&lt;Cost&gt; <a class="code" href="a01028.html#aa9b126b5d0d0960827e920d2194b8683">IndividualCosts</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="a01028.html#a6dfb019d5679d2fe39980e773fe37596">  832</a></span>&#160;   <a class="code" href="a01028.html#a6dfb019d5679d2fe39980e773fe37596">CostReport</a>(Cost <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a> = 0, <span class="keywordtype">int</span> size = 1, <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a> = <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a>(0), <span class="keywordtype">bool</span> <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a> = <span class="keyword">false</span>) : <a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>(<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>), <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>(<a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>), <a class="code" href="a01020.html#adea4209f171ba500507aea63bb90ea2f">id</a>(0), <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>(<a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>) {</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.resize(size);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; }</div>
<div class="line"><a name="l00835"></a><span class="lineno"><a class="line" href="a01028.html#a61bf1c102f0e83e9e6a4312844926ba7">  835</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#a61bf1c102f0e83e9e6a4312844926ba7">individualReset</a> () {</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a00078.html#a4f5da079da642a3ab4bc28f4f307a9d1">now</a>() &gt;= <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>)</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;     mean_costs += double(<a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a>);</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a>) {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;     <span class="keywordflow">if</span> (<span class="keywordtype">id</span>&gt;=<span class="keywordtype">int</span>(<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.size()))</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;       REprintf(<span class="stringliteral">&quot;Vector too small in CostReport: use resize(int) method&quot;</span>);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;     <span class="keywordflow">else</span></div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;       <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>[<a class="code" href="a01020.html#adea4209f171ba500507aea63bb90ea2f">id</a>] = (<a class="code" href="a00078.html#a4f5da079da642a3ab4bc28f4f307a9d1">now</a>() &gt;= <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>) ? <span class="keywordtype">double</span>(<a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a>) : NA_REAL;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;   }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;   <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a> = Cost(0);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;   <span class="keywordtype">id</span>++;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160; }</div>
<div class="line"><a name="l00847"></a><span class="lineno"><a class="line" href="a01028.html#ace6aa5a98c3388dcdc5d8bb631bb0762">  847</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#ace6aa5a98c3388dcdc5d8bb631bb0762">setIndivN</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> n) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;   <a class="code" href="a01020.html#a73d0f731eb55337f2c41ce692d610283">resize</a>(n);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;   <a class="code" href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">indiv</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160; }</div>
<div class="line"><a name="l00851"></a><span class="lineno"><a class="line" href="a01028.html#a48f8c27b7f2fe31bc3ae8fae313088e0">  851</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#a48f8c27b7f2fe31bc3ae8fae313088e0">setStartReportAge</a>(<span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> a) {</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;   <a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a> = a;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160; }</div>
<div class="line"><a name="l00854"></a><span class="lineno"><a class="line" href="a01028.html#a2ae357781b637c9eac2ba708b245d228">  854</a></span>&#160; Cost <a class="code" href="a01028.html#a2ae357781b637c9eac2ba708b245d228">discountedCost</a>(<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> a, Cost cost) {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a> == 0.0) <span class="keywordflow">return</span> cost;</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>&gt;0.0)</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;     <span class="keywordflow">return</span> cost/pow(1+<a class="code" href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">discountRate</a>,a);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;   <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;     REprintf(<span class="stringliteral">&quot;discountRate less than zero.&quot;</span>);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;     <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;   }</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160; }</div>
<div class="line"><a name="l00863"></a><span class="lineno"><a class="line" href="a01028.html#a5192a3973df462fe53de5a318a9eac5e">  863</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#a5192a3973df462fe53de5a318a9eac5e">setPartition</a>(<span class="keyword">const</span> vector&lt;Time&gt; v) {</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;   <a class="code" href="a00011.html#a5e58fd40522df95f81f73af0e0beb58b">copy</a>(v.begin(), v.end(), inserter(<a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>, <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.begin()));</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; }</div>
<div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="a01028.html#ae76fb4f5276e1263ad46430174f35caa">  866</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#ae76fb4f5276e1263ad46430174f35caa">setPartition</a>(<span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> start, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> finish, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> delta,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;           <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> maxTime = <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a>(1.0e100)) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;   <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.clear();</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;   <span class="keywordflow">for</span> (<a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> t=start; t&lt;=finish; t+=delta) <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.insert(t);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;   <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.insert(maxTime);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160; }</div>
<div class="line"><a name="l00872"></a><span class="lineno"><a class="line" href="a01028.html#a8e3fe031a4222f979bac684c12766d1f">  872</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#a8e3fe031a4222f979bac684c12766d1f">clear</a>() {</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;   _table.clear();</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;   <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.clear();</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.clear();</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;   <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a> = Cost(0);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160; }</div>
<div class="line"><a name="l00878"></a><span class="lineno"><a class="line" href="a01028.html#ac43ee8dfc3c38deb0cb6cf6138886064">  878</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#ac43ee8dfc3c38deb0cb6cf6138886064">resize</a>(<span class="keywordtype">int</span> size) {</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.resize(size);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160; }</div>
<div class="line"><a name="l00881"></a><span class="lineno"><a class="line" href="a01028.html#ac443990355b96e869538f850582c3e07">  881</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01028.html#ac443990355b96e869538f850582c3e07">append</a>(<a class="code" href="a01028.html">This</a> &amp; new_report) { <span class="comment">// assuming that discountRate and _partition are the same for both reports</span></div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;   <span class="keyword">typename</span> Table::iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;   <a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.insert(<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>.start(), new_report.<a class="code" href="a01028.html#a15c2d3132e7e276a036c6fea3969b8de">_vector</a>.begin(), new_report.<a class="code" href="a01028.html#a15c2d3132e7e276a036c6fea3969b8de">_vector</a>.end());</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;   <span class="keywordflow">for</span>(<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> = new_report.<a class="code" href="a01028.html#a78f4e3237bf2e593bb79574fe1cd11d7">_table</a>.begin(); <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != new_report.<a class="code" href="a01028.html#a78f4e3237bf2e593bb79574fe1cd11d7">_table</a>.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;     _table[<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;first] += <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;second;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;   }</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160; }</div>
<div class="line"><a name="l00888"></a><span class="lineno"><a class="line" href="a01028.html#ae2ea741a44b889275dd440f16d0378f8">  888</a></span>&#160;   <span class="keywordtype">void</span> <a class="code" href="a01028.html#ae2ea741a44b889275dd440f16d0378f8">add</a>(<span class="keyword">const</span> State state, <span class="keyword">const</span> <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> time, <span class="keyword">const</span> Cost cost, <span class="keyword">const</span> <span class="keywordtype">int</span> index = 0 <span class="comment">/* deprecated argument */</span>) {</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;   <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> time_lhs = * <a class="code" href="a01020.html#a488145b360517c8dd440c7c65d60afc3">_partition</a>.lower_bound(time);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;   Cost c = discountedCost(time,cost);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;   _table[<a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>(state,time_lhs)] += c;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a> == 0.0)</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;     <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a> += c;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;   <span class="keywordflow">else</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;     <span class="keywordflow">if</span> (time&gt;=<a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>)</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;       <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a> += discountedCost(time-<a class="code" href="a01020.html#a169127c36528c296adb66beb644e9f58">startReportAge</a>,cost);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160; }</div>
<div class="line"><a name="l00898"></a><span class="lineno"><a class="line" href="a01028.html#a0b7930376afcddb950e76eaff604fb89">  898</a></span>&#160; SEXP <a class="code" href="a01028.html#a0b7930376afcddb950e76eaff604fb89">wrap</a>() {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="a00088.html#af8492abf48596714cc94b1966086be1c">Rcpp::wrap_map</a>(_table,<span class="stringliteral">&quot;Key&quot;</span>,<span class="stringliteral">&quot;age&quot;</span>,<span class="stringliteral">&quot;cost&quot;</span>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160; }</div>
<div class="line"><a name="l00901"></a><span class="lineno"><a class="line" href="a01028.html#a0d8ae282daea5174f7af59b546b301d8">  901</a></span>&#160; SEXP <a class="code" href="a01028.html#a0d8ae282daea5174f7af59b546b301d8">wrap_indiv</a>() {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(<a class="code" href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">_vector</a>);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160; }</div>
<div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="a01028.html#a2afe661d66ec4451a016218bfd9c9f8e">  904</a></span>&#160; SEXP <a class="code" href="a01028.html#a2afe661d66ec4451a016218bfd9c9f8e">wrap_means</a>() {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;   <span class="keywordflow">return</span> mean_costs.wrap();</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160; }</div>
<div class="line"><a name="l00907"></a><span class="lineno"><a class="line" href="a01028.html#ab02b0127f4d70e912720c9a978d8a5d9">  907</a></span>&#160; Cost <a class="code" href="a01028.html#ab02b0127f4d70e912720c9a978d8a5d9">discountRate</a>, <a class="code" href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">current</a>;</div>
<div class="line"><a name="l00908"></a><span class="lineno"><a class="line" href="a01028.html#a8c908ac194201d4ecb5549fc423d42ae">  908</a></span>&#160; <a class="code" href="a01028.html#a85355713f61399b41e93bae150eaa59c">Partition</a> <a class="code" href="a01028.html#a8c908ac194201d4ecb5549fc423d42ae">_partition</a>;</div>
<div class="line"><a name="l00909"></a><span class="lineno"><a class="line" href="a01028.html#a78f4e3237bf2e593bb79574fe1cd11d7">  909</a></span>&#160; <a class="code" href="a01052.html">Table</a> <a class="code" href="a01028.html#a78f4e3237bf2e593bb79574fe1cd11d7">_table</a>;</div>
<div class="line"><a name="l00910"></a><span class="lineno"><a class="line" href="a01028.html#a15c2d3132e7e276a036c6fea3969b8de">  910</a></span>&#160; <a class="code" href="a01028.html#aa9b126b5d0d0960827e920d2194b8683">IndividualCosts</a> <a class="code" href="a01028.html#a15c2d3132e7e276a036c6fea3969b8de">_vector</a>;</div>
<div class="line"><a name="l00911"></a><span class="lineno"><a class="line" href="a01028.html#aced8cd045017f27d3adc21e2afab9e1f">  911</a></span>&#160; <a class="code" href="a01008.html">Means</a> <a class="code" href="a01028.html#aced8cd045017f27d3adc21e2afab9e1f">mean_costs</a>;</div>
<div class="line"><a name="l00912"></a><span class="lineno"><a class="line" href="a01028.html#a4b543325615230884462677b1b32b19b">  912</a></span>&#160; <a class="code" href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">Time</a> <a class="code" href="a01028.html#a4b543325615230884462677b1b32b19b">startReportAge</a>;</div>
<div class="line"><a name="l00913"></a><span class="lineno"><a class="line" href="a01028.html#a9bebeccdfe8d019037afedd0ac10cc78">  913</a></span>&#160; <span class="keywordtype">int</span> <a class="code" href="a01028.html#a9bebeccdfe8d019037afedd0ac10cc78">id</a>;</div>
<div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="a01028.html#a90ead3301d6477f800d4e46a3ecc6554">  914</a></span>&#160; <span class="keywordtype">bool</span> <a class="code" href="a01028.html#a90ead3301d6477f800d4e46a3ecc6554">indiv</a>;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160; };</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160; </div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160; <span class="keyword">template</span>&lt;<span class="keyword">class</span> T = <span class="keywordtype">double</span>&gt;</div>
<div class="line"><a name="l00921"></a><span class="lineno"><a class="line" href="a01032.html">  921</a></span>&#160;   <span class="keyword">class </span><a class="code" href="a01032.html">SimpleReport</a> {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00926"></a><span class="lineno"><a class="line" href="a01032.html#acb4a83682871b5dd40269b44b3aca03a">  926</a></span>&#160; <span class="keyword">typedef</span> map&lt;string,vector&lt;T&gt; &gt; <a class="code" href="a01032.html#acb4a83682871b5dd40269b44b3aca03a">Map</a>;</div>
<div class="line"><a name="l00930"></a><span class="lineno"><a class="line" href="a01032.html#adf028f6fe6aa99296a2cc4187c017049">  930</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01032.html#adf028f6fe6aa99296a2cc4187c017049">record</a>(<span class="keywordtype">string</span> field, T value) {</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   _data[field].push_back(value);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160; }</div>
<div class="line"><a name="l00937"></a><span class="lineno"><a class="line" href="a01032.html#a708884e5210932bdd971c13fc42ffe3c">  937</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01032.html#a708884e5210932bdd971c13fc42ffe3c">revise</a>(<span class="keywordtype">string</span> field, T value) {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;   <span class="keywordflow">if</span> (!_data[field].empty())</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;     _data[field].pop_back();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;   _data[field].push_back(value);</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160; }</div>
<div class="line"><a name="l00945"></a><span class="lineno"><a class="line" href="a01032.html#a04c81468020e0a0239b5cc156ed9702d">  945</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01032.html#a04c81468020e0a0239b5cc156ed9702d">clear</a>() { _data.clear(); }</div>
<div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="a01032.html#a1444d7b9944e84ada914617e81a61216">  949</a></span>&#160; SEXP <a class="code" href="a01032.html#a1444d7b9944e84ada914617e81a61216">wrap</a>() {</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(_data);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160; }</div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="a01032.html#a6ae1d365c7e8b8911a47af46c3224282">  955</a></span>&#160; <span class="keywordtype">void</span> <a class="code" href="a01032.html#a6ae1d365c7e8b8911a47af46c3224282">append</a>(<a class="code" href="a01032.html">SimpleReport&lt;T&gt;</a> &amp; obj) {</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;   <span class="keywordflow">for</span>(<span class="keyword">typename</span> Map::iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> = obj.<a class="code" href="a01032.html#aa606e0342a3bc2e2aa3b31fb2332a31b">_data</a>.begin(); <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != obj.<a class="code" href="a01032.html#aa606e0342a3bc2e2aa3b31fb2332a31b">_data</a>.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>) {</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;     _data[<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;first].insert(_data[<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;first].end(), <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;second.begin(), <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;second.end());</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;   }</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160; }</div>
<div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="a01032.html#aa606e0342a3bc2e2aa3b31fb2332a31b">  963</a></span>&#160; <a class="code" href="a01032.html#acb4a83682871b5dd40269b44b3aca03a">Map</a> <a class="code" href="a01032.html#aa606e0342a3bc2e2aa3b31fb2332a31b">_data</a>;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160; };</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160; </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;} <span class="comment">// namespace ssim</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160; </div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="keyword">namespace </span><a class="code" href="a00088.html">Rcpp</a> {</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160; </div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00971"></a><span class="lineno"><a class="line" href="a00088.html#a7f6030983b7f9a542d08a7ae5e3e0135">  971</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;pair&lt;T1,T2&gt; &gt; v) {</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    vector&lt;T1&gt; v1;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    vector&lt;T2&gt; v2;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keyword">typename</span> vector&lt;pair&lt;T1,T2&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(); <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>) {</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;      v1.push_back(<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;first);</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;      v2.push_back(<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>-&gt;second);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    }</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;   <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2));</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  }</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160; </div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l00983"></a><span class="lineno"><a class="line" href="a00088.html#a2e6f12f183b3154283739314752ca438">  983</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2&gt; &gt; v) {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    }</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2));</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  }</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160; </div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3&gt;</div>
<div class="line"><a name="l00996"></a><span class="lineno"><a class="line" href="a00088.html#a424d2fe2da5c6320a25385741074ad7f">  996</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3&gt; &gt; v) {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    }</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),_(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3));</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;  }</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160; </div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160; </div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4&gt;</div>
<div class="line"><a name="l01012"></a><span class="lineno"><a class="line" href="a00088.html#a61cd2adbdccf5c908a20489f4b6ce1a3"> 1012</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4&gt; &gt; v) {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    vector&lt;T4&gt; v4(n);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;      v4[i] = boost::get&lt;3&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    }</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;            _(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3),_(<span class="stringliteral">&quot;Var4&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v4));</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160; </div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5&gt;</div>
<div class="line"><a name="l01030"></a><span class="lineno"><a class="line" href="a00088.html#abe2f3cb073336e831c1fd32f18b73fba"> 1030</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5&gt; &gt; v) {</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;    vector&lt;T4&gt; v4(n);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    vector&lt;T5&gt; v5(n);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      v4[i] = boost::get&lt;3&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      v5[i] = boost::get&lt;4&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    }</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            _(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3),_(<span class="stringliteral">&quot;Var4&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v4),</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            _(<span class="stringliteral">&quot;Var5&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v5));</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160; </div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6&gt;</div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="a00088.html#ab3aee996e7001d4b0674d20c8fa88097"> 1051</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6&gt; &gt; v) {</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    vector&lt;T4&gt; v4(n);</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    vector&lt;T5&gt; v5(n);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    vector&lt;T6&gt; v6(n);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;      v4[i] = boost::get&lt;3&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      v5[i] = boost::get&lt;4&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      v6[i] = boost::get&lt;5&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;            _(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3),_(<span class="stringliteral">&quot;Var4&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v4),</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;            _(<span class="stringliteral">&quot;Var5&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v5),_(<span class="stringliteral">&quot;Var6&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v6));</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  }</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160; </div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7&gt;</div>
<div class="line"><a name="l01074"></a><span class="lineno"><a class="line" href="a00088.html#a223b34de99487b52f3910a15b32b065e"> 1074</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7&gt; &gt; v) {</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    vector&lt;T4&gt; v4(n);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    vector&lt;T5&gt; v5(n);</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    vector&lt;T6&gt; v6(n);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    vector&lt;T7&gt; v7(n);</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      v4[i] = boost::get&lt;3&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;      v5[i] = boost::get&lt;4&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      v6[i] = boost::get&lt;5&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      v7[i] = boost::get&lt;6&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;            _(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3),_(<span class="stringliteral">&quot;Var4&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v4),</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;            _(<span class="stringliteral">&quot;Var5&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v5),_(<span class="stringliteral">&quot;Var6&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v6),</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;            _(<span class="stringliteral">&quot;Var7&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v7));</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160; </div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7, <span class="keyword">class</span> T8&gt;</div>
<div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="a00088.html#a441f51d9d189a32070f7ea9d632102f8"> 1100</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt; &gt; v) {</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    vector&lt;T4&gt; v4(n);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    vector&lt;T5&gt; v5(n);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    vector&lt;T6&gt; v6(n);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    vector&lt;T7&gt; v7(n);</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    vector&lt;T8&gt; v8(n);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      v4[i] = boost::get&lt;3&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      v5[i] = boost::get&lt;4&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      v6[i] = boost::get&lt;5&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;      v7[i] = boost::get&lt;6&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      v8[i] = boost::get&lt;7&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;    }</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;            _(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3),_(<span class="stringliteral">&quot;Var4&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v4),</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;            _(<span class="stringliteral">&quot;Var5&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v5),_(<span class="stringliteral">&quot;Var6&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v6),</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;            _(<span class="stringliteral">&quot;Var7&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v7),_(<span class="stringliteral">&quot;Var8&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v8));</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7, <span class="keyword">class</span> T8, <span class="keyword">class</span> T9&gt;</div>
<div class="line"><a name="l01128"></a><span class="lineno"><a class="line" href="a00088.html#abe18c8aca34dfb2b7bf6f039fb2ea44a"> 1128</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8,T9&gt; &gt; v) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    vector&lt;T4&gt; v4(n);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    vector&lt;T5&gt; v5(n);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    vector&lt;T6&gt; v6(n);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;    vector&lt;T7&gt; v7(n);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    vector&lt;T8&gt; v8(n);</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    vector&lt;T9&gt; v9(n);</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8,T9&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      v4[i] = boost::get&lt;3&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;      v5[i] = boost::get&lt;4&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      v6[i] = boost::get&lt;5&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      v7[i] = boost::get&lt;6&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;      v8[i] = boost::get&lt;7&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      v9[i] = boost::get&lt;8&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;            _(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3),_(<span class="stringliteral">&quot;Var4&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v4),</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            _(<span class="stringliteral">&quot;Var5&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v5),_(<span class="stringliteral">&quot;Var6&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v6),</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            _(<span class="stringliteral">&quot;Var7&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v7),_(<span class="stringliteral">&quot;Var8&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v8),</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            _(<span class="stringliteral">&quot;Var9&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v9));</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  }</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160; </div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5, <span class="keyword">class</span> T6, <span class="keyword">class</span> T7, <span class="keyword">class</span> T8, <span class="keyword">class</span> T9, <span class="keyword">class</span> T10&gt;</div>
<div class="line"><a name="l01159"></a><span class="lineno"><a class="line" href="a00088.html#aefe47516d459bce9e4af442e06e8a927"> 1159</a></span>&#160;    SEXP <a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(<span class="keyword">const</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8,T9,T10&gt; &gt; v) {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <span class="keywordtype">int</span> i, n=v.size();</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    vector&lt;T1&gt; v1(n);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    vector&lt;T2&gt; v2(n);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;    vector&lt;T3&gt; v3(n);</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    vector&lt;T4&gt; v4(n);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    vector&lt;T5&gt; v5(n);</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    vector&lt;T6&gt; v6(n);</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    vector&lt;T7&gt; v7(n);</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    vector&lt;T8&gt; v8(n);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;    vector&lt;T9&gt; v9(n);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;    vector&lt;T10&gt; v10(n);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;    <span class="keyword">typename</span> vector&lt;boost::tuple&lt;T1,T2,T3,T4,T5,T6,T7,T8,T9,T10&gt; &gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>&lt;v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;      v1[i] = boost::get&lt;0&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      v2[i] = boost::get&lt;1&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      v3[i] = boost::get&lt;2&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      v4[i] = boost::get&lt;3&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;      v5[i] = boost::get&lt;4&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      v6[i] = boost::get&lt;5&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;      v7[i] = boost::get&lt;6&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;      v8[i] = boost::get&lt;7&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      v9[i] = boost::get&lt;8&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      v10[i] = boost::get&lt;9&gt;(*<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">return</span> List::create(_(<span class="stringliteral">&quot;Var1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v1),_(<span class="stringliteral">&quot;Var2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v2),</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;            _(<span class="stringliteral">&quot;Var3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v3),_(<span class="stringliteral">&quot;Var4&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v4),</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;            _(<span class="stringliteral">&quot;Var5&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v5),_(<span class="stringliteral">&quot;Var6&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v6),</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;            _(<span class="stringliteral">&quot;Var7&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v7),_(<span class="stringliteral">&quot;Var8&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v8),</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;            _(<span class="stringliteral">&quot;Var9&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v9),_(<span class="stringliteral">&quot;Var10&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(v10));</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  }</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160; </div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160; </div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l01193"></a><span class="lineno"><a class="line" href="a00088.html#af8492abf48596714cc94b1966086be1c"> 1193</a></span>&#160;    SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> std::map&lt;T1,T2&gt; v) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordtype">int</span> n = v.size();</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    vector&lt;T1&gt; x(n);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    vector&lt;T2&gt; y(n);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keyword">typename</span> std::map&lt;T1,T2&gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      x[i] = (*it).first;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;      y[i] = (*it).second;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    }</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;    <span class="keywordflow">return</span> DataFrame::create(_(<span class="stringliteral">&quot;Key&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(x),_(<span class="stringliteral">&quot;Value&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(y));</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  <span class="comment">// Special cases for wrap_map:</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <span class="comment">// map&lt;pair&lt;Tstate,T&gt;, int &gt; _prev;</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <span class="comment">// map&lt;pair&lt;Tstate,T&gt;, T &gt; _pt;</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="comment">// map&lt;boost::tuple&lt;Tstate,Tevent,T&gt;, int &gt; _events;</span></div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160; </div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T1c, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l01213"></a><span class="lineno"><a class="line" href="a00088.html#a32f6c6147a3f28f8276f488481192072"> 1213</a></span>&#160;    SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> std::map&lt;boost::tuple&lt;T1a,T1b,T1c&gt;,T2&gt; v,</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;          std::string key, std::string name1, std::string name2, std::string name3) {</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="keyword">typedef</span> boost::tuple&lt;T1a,T1b,T1c&gt; Tuple;</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordtype">int</span> n = v.size();</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    vector&lt;T1a&gt; xa(n);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    vector&lt;T1b&gt; xb(n);</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;    vector&lt;T1c&gt; xc(n);</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    vector&lt;T2&gt; y(n);</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    <span class="keyword">typename</span> std::map&lt;Tuple,T2&gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      xa[i] = get&lt;0&gt;((*it).first);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      xb[i] = get&lt;1&gt;((*it).first);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      xc[i] = get&lt;2&gt;((*it).first);</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      y[i] = (*it).second;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;    <span class="keywordflow">return</span> Rcpp::DataFrame::create(_[key]=<a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(xa), _[name1]=<a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(xb),</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                   _[name2]=<a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(xc), _[name3]=<a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(y));</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160; </div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160; </div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l01235"></a><span class="lineno"><a class="line" href="a00088.html#ac57572cbf230c67ea065e5d8aa68c6df"> 1235</a></span>&#160;    SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> std::map&lt;std::pair&lt;T1a,T1b&gt;,T2&gt; v,</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;          std::string key, std::string name1, std::string name2) {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keyword">typedef</span> std::pair&lt;T1a,T1b&gt; <a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    <span class="keywordtype">int</span> n = v.size();</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;    vector&lt;T1a&gt; xa(n);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    vector&lt;T1b&gt; xb(n);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    vector&lt;T2&gt; y(n);</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="keyword">typename</span> std::map&lt;Pair,T2&gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      xa[i] = (*it).first.first;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      xb[i] = (*it).first.second;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      y[i] = (*it).second;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="keywordflow">return</span> Rcpp::DataFrame::create(_[key]=<a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(xa), _[name1]=<a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(xb),</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;                   _[name2]=<a class="code" href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a>(y));</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;   }</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160; </div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160; </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l01255"></a><span class="lineno"><a class="line" href="a00088.html#a191c74497238a91d8e8f6e5b84d7dc14"> 1255</a></span>&#160;    SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;T1,T2&gt; ov) {</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    std::map&lt;T1,T2&gt; v(ov.begin(), ov.end());</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <span class="keywordflow">return</span> wrap_map&lt;T1,T2&gt;(v);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160; </div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T1c, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l01261"></a><span class="lineno"><a class="line" href="a00088.html#aac01f702ce85f27ab3417b6fd4456056"> 1261</a></span>&#160;    SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;boost::tuple&lt;T1a,T1b,T1c&gt;,T2&gt; ov,</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;          std::string key, std::string name1, std::string name2, std::string name3) {</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    std::map&lt;boost::tuple&lt;T1a,T1b,T1c&gt;,T2&gt; v(ov.begin(), ov.end());</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">return</span> wrap_map&lt;T1a, T1b, T1c, T2&gt;(v, key, name1, name2, name3);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160; </div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1a, <span class="keyword">class</span> T1b, <span class="keyword">class</span> T2&gt;</div>
<div class="line"><a name="l01268"></a><span class="lineno"><a class="line" href="a00088.html#ae4b6c757dde0160f97b95aab6072badc"> 1268</a></span>&#160;    SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;std::pair&lt;T1a,T1b&gt;,T2&gt; ov,</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;          std::string key, std::string name1, std::string name2) {</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    std::map&lt;std::pair&lt;T1a,T1b&gt;,T2&gt; v(ov.begin(), ov.end());</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="keywordflow">return</span> wrap_map&lt;T1a, T1b, T2&gt;(v, key, name1, name2);</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;   }</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160; </div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5&gt;</div>
<div class="line"><a name="l01275"></a><span class="lineno"><a class="line" href="a00088.html#a57b6df4424789c7919dce3ffcff41f8e"> 1275</a></span>&#160;  SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> std::map&lt;std::pair&lt;boost::tuple&lt;T1,T2,T3&gt;,T4&gt;,T5&gt; v,</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;        std::string name1, std::string name2) {</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keyword">typedef</span> boost::tuple&lt;T1,T2,T3&gt; Tuple;</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;    <span class="keyword">typedef</span> std::pair&lt;Tuple,T4&gt; <a class="code" href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">Pair</a>;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="keywordtype">int</span> n = v.size();</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    vector&lt;T1&gt; x1(n);</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    vector&lt;T2&gt; x2(n);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    vector&lt;T3&gt; x3(n);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    vector&lt;T4&gt; x4(n);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    vector&lt;T5&gt; y(n);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    <span class="keyword">typename</span> std::map&lt;Pair,T5&gt;::const_iterator <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>=v.begin(), i=0; <a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a> != v.end(); ++<a class="code" href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a>, ++i) {</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;      Tuple tuple = (*it).first.first;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      x1[i] = boost::get&lt;0&gt;(tuple);</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;      x2[i] = boost::get&lt;1&gt;(tuple);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      x3[i] = boost::get&lt;2&gt;(tuple);</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      x4[i] = (*it).first.second;</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      y[i] = (*it).second;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    }</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    DataFrame out = Rcpp::DataFrame::create(Rcpp::Named(<span class="stringliteral">&quot;col1&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(x1),</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                        Rcpp::Named(<span class="stringliteral">&quot;col2&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(x2),</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;                        Rcpp::Named(<span class="stringliteral">&quot;col3&quot;</span>)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(x3),</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                        Rcpp::Named(name1)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(x4),</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;                        Rcpp::Named(name2)=<a class="code" href="a01020.html#a38033cfe30962fab76a804238c773a2f">wrap</a>(y));</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">return</span> out;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   }</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160; </div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">class</span> T1, <span class="keyword">class</span> T2, <span class="keyword">class</span> T3, <span class="keyword">class</span> T4, <span class="keyword">class</span> T5&gt;</div>
<div class="line"><a name="l01304"></a><span class="lineno"><a class="line" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32"> 1304</a></span>&#160;  SEXP <a class="code" href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">wrap_map</a>(<span class="keyword">const</span> boost::unordered_map&lt;std::pair&lt;boost::tuple&lt;T1,T2,T3&gt;,T4&gt;,T5&gt; ov,</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        std::string name1, std::string name2) {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    std::map&lt;std::pair&lt;boost::tuple&lt;T1,T2,T3&gt;,T4&gt;,T5&gt; v(ov.begin(), ov.end());</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    <span class="keywordflow">return</span> wrap_map&lt;T1,T2,T3,T4,T5&gt;(v, name1, name2);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;   }</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160; </div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160; </div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;} <span class="comment">// Rcpp namespace</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160; </div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160; </div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;<span class="keyword">namespace </span><a class="code" href="a00079.html">R</a> {</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a00079.html#ab3a430fb3f11743b39bc935e31763507">rnormPos</a>(<span class="keywordtype">double</span> mean, <span class="keywordtype">double</span> sd);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160; </div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a00079.html#a0dab5b76e1f928f4060a98d555be8093">rllogis</a>(<span class="keywordtype">double</span> shape, <span class="keywordtype">double</span> scale);</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="a00079.html#af4a656a812736309337c13d792feb2b6">rllogis_trunc</a>(<span class="keywordtype">double</span> shape, <span class="keywordtype">double</span> scale, <span class="keywordtype">double</span> left);</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160; </div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;}</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160; </div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aa01020_html_a38033cfe30962fab76a804238c773a2f"><div class="ttname"><a href="a01020.html#a38033cfe30962fab76a804238c773a2f">ssim::EventReport::wrap</a></div><div class="ttdeci">SEXP wrap()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00601">microsimulation.h:601</a></div></div>
<div class="ttc" id="aa00992_html"><div class="ttname"><a href="a00992.html">boost::tuples::detail::HashValueImpl</a></div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00050">microsimulation.h:50</a></div></div>
<div class="ttc" id="aa01028_html_aced8cd045017f27d3adc21e2afab9e1f"><div class="ttname"><a href="a01028.html#aced8cd045017f27d3adc21e2afab9e1f">ssim::CostReport::mean_costs</a></div><div class="ttdeci">Means mean_costs</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00911">microsimulation.h:911</a></div></div>
<div class="ttc" id="aa00078_html_a9e8c6f728bb5211c8277306ac0021db7"><div class="ttname"><a href="a00078.html#a9e8c6f728bb5211c8277306ac0021db7">ssim::simtime_t</a></div><div class="ttdeci">Time simtime_t</div><div class="ttdoc">simtime_t typedef for OMNET++ API compatibility</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00284">microsimulation.h:284</a></div></div>
<div class="ttc" id="aa01028_html_ae76fb4f5276e1263ad46430174f35caa"><div class="ttname"><a href="a01028.html#ae76fb4f5276e1263ad46430174f35caa">ssim::CostReport::setPartition</a></div><div class="ttdeci">void setPartition(const Time start, const Time finish, const Time delta, const Time maxTime=Time(1.0e100))</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00866">microsimulation.h:866</a></div></div>
<div class="ttc" id="aa01020_html_a6a35f0cbb9cb7b808e7f1c18376096f9"><div class="ttname"><a href="a01020.html#a6a35f0cbb9cb7b808e7f1c18376096f9">ssim::EventReport::mean_utilities</a></div><div class="ttdeci">Means mean_utilities</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00628">microsimulation.h:628</a></div></div>
<div class="ttc" id="aa01020_html_aa8401a95ed9254a0f66f376c3792c51c"><div class="ttname"><a href="a01020.html#aa8401a95ed9254a0f66f376c3792c51c">ssim::EventReport::_pt</a></div><div class="ttdeci">PtMap _pt</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00625">microsimulation.h:625</a></div></div>
<div class="ttc" id="aa01020_html_a0448b0aa6e0e4d0ad5cd4a774df55bf1"><div class="ttname"><a href="a01020.html#a0448b0aa6e0e4d0ad5cd4a774df55bf1">ssim::EventReport::setStartReportAge</a></div><div class="ttdeci">void setStartReportAge(const Time a)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00520">microsimulation.h:520</a></div></div>
<div class="ttc" id="aa00086_html_a824c38fa3bc4c8f2ce1a28c0570c5fbb"><div class="ttname"><a href="a00086.html#a824c38fa3bc4c8f2ce1a28c0570c5fbb">boost::tuples::hash_value</a></div><div class="ttdeci">size_t hash_value(Tuple const &amp;tuple)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00068">microsimulation.h:68</a></div></div>
<div class="ttc" id="aa01020_html_af0b04ad5b8e6a71ccf448bc30ffb9d37"><div class="ttname"><a href="a01020.html#af0b04ad5b8e6a71ccf448bc30ffb9d37">ssim::EventReport::append</a></div><div class="ttdeci">void append(EventReport&lt; State, Event, Time, Utility &gt; &amp;er)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00594">microsimulation.h:594</a></div></div>
<div class="ttc" id="aa01024_html_a16486008f328ff8a084782f5eb1195d3"><div class="ttname"><a href="a01024.html#a16486008f328ff8a084782f5eb1195d3">ssim::SummaryReport::PrevMap</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, int &gt; PrevMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00643">microsimulation.h:643</a></div></div>
<div class="ttc" id="aa01020_html_a2afa618dfdbef811d2d06f46218128f3"><div class="ttname"><a href="a01020.html#a2afa618dfdbef811d2d06f46218128f3">ssim::EventReport::outputUtilities</a></div><div class="ttdeci">bool outputUtilities</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00621">microsimulation.h:621</a></div></div>
<div class="ttc" id="aa01028_html_a78f4e3237bf2e593bb79574fe1cd11d7"><div class="ttname"><a href="a01028.html#a78f4e3237bf2e593bb79574fe1cd11d7">ssim::CostReport::_table</a></div><div class="ttdeci">Table _table</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00909">microsimulation.h:909</a></div></div>
<div class="ttc" id="aa01008_html_a5c7834b4f85b303cb3ec6bce595081f1"><div class="ttname"><a href="a01008.html#a5c7834b4f85b303cb3ec6bce595081f1">ssim::Means::n</a></div><div class="ttdeci">int n()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00304">microsimulation.h:304</a></div></div>
<div class="ttc" id="aa01020_html_a145541f5612d85dd5b22a42f1289e55c"><div class="ttname"><a href="a01020.html#a145541f5612d85dd5b22a42f1289e55c">ssim::EventReport::IndividualUtilities</a></div><div class="ttdeci">vector&lt; Utility &gt; IndividualUtilities</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00499">microsimulation.h:499</a></div></div>
<div class="ttc" id="aa01028_html_aa9b126b5d0d0960827e920d2194b8683"><div class="ttname"><a href="a01028.html#aa9b126b5d0d0960827e920d2194b8683">ssim::CostReport::IndividualCosts</a></div><div class="ttdeci">std::vector&lt; Cost &gt; IndividualCosts</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00831">microsimulation.h:831</a></div></div>
<div class="ttc" id="aa01008_html_ab53d53da74fd84a7cc3eaa48c988ed41"><div class="ttname"><a href="a01008.html#ab53d53da74fd84a7cc3eaa48c988ed41">ssim::Means::Means</a></div><div class="ttdeci">Means()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00307">microsimulation.h:307</a></div></div>
<div class="ttc" id="aa01028_html_a8c908ac194201d4ecb5549fc423d42ae"><div class="ttname"><a href="a01028.html#a8c908ac194201d4ecb5549fc423d42ae">ssim::CostReport::_partition</a></div><div class="ttdeci">Partition _partition</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00908">microsimulation.h:908</a></div></div>
<div class="ttc" id="aa01020_html_ab6ed5f452c61b9ffa923f960cc8730da"><div class="ttname"><a href="a01020.html#ab6ed5f452c61b9ffa923f960cc8730da">ssim::EventReport::append_map</a></div><div class="ttdeci">void append_map(T &amp;base_map, T &amp;new_map)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00589">microsimulation.h:589</a></div></div>
<div class="ttc" id="aa01028_html_aab4f6b5cd1f718df6bc74fd15500b80b"><div class="ttname"><a href="a01028.html#aab4f6b5cd1f718df6bc74fd15500b80b">ssim::CostReport::Pair</a></div><div class="ttdeci">std::pair&lt; State, Time &gt; Pair</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00828">microsimulation.h:828</a></div></div>
<div class="ttc" id="aa01000_html_a5fd4482f78fa024113273888b8c950ee"><div class="ttname"><a href="a01000.html#a5fd4482f78fa024113273888b8c950ee">ssim::cMessage::cMessage</a></div><div class="ttdeci">cMessage(const short k=-1, const string n=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00193">microsimulation.h:193</a></div></div>
<div class="ttc" id="aa01024_html_aaf8109e29b928a406403dff6606e86b3"><div class="ttname"><a href="a01024.html#aaf8109e29b928a406403dff6606e86b3">ssim::SummaryReport::Iterator</a></div><div class="ttdeci">Partition::iterator Iterator</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00641">microsimulation.h:641</a></div></div>
<div class="ttc" id="aa01016_html_a2f7fae91e4ef9886d90101f4a5da6633"><div class="ttname"><a href="a01016.html#a2f7fae91e4ef9886d90101f4a5da6633">ssim::Rng::operator()</a></div><div class="ttdeci">result_type operator()()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00396">microsimulation.h:396</a></div></div>
<div class="ttc" id="aa01092_html_a732eb86d5dc04434d4ed88cbb62fd155"><div class="ttname"><a href="a01092.html#a732eb86d5dc04434d4ed88cbb62fd155">ssim::Sim::self_signal_event</a></div><div class="ttdeci">static void self_signal_event(const Event *e)</div><div class="ttdoc">signal an event to the current process immediately</div><div class="ttdef"><b>Definition:</b> <a href="a00047_source.html#l00270">ssim.cc:270</a></div></div>
<div class="ttc" id="aa01024_html_ae237eb4fe45591eebbce3d6d6fff6685"><div class="ttname"><a href="a01024.html#ae237eb4fe45591eebbce3d6d6fff6685">ssim::SummaryReport::_ut</a></div><div class="ttdeci">UtilityMap _ut</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00810">microsimulation.h:810</a></div></div>
<div class="ttc" id="aa01028_html_a1818b65ab96e1dc37548fbaf510f041b"><div class="ttname"><a href="a01028.html#a1818b65ab96e1dc37548fbaf510f041b">ssim::CostReport::Table</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, Cost &gt; Table</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00830">microsimulation.h:830</a></div></div>
<div class="ttc" id="aa01028_html_a0d8ae282daea5174f7af59b546b301d8"><div class="ttname"><a href="a01028.html#a0d8ae282daea5174f7af59b546b301d8">ssim::CostReport::wrap_indiv</a></div><div class="ttdeci">SEXP wrap_indiv()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00901">microsimulation.h:901</a></div></div>
<div class="ttc" id="aa01024_html_a7ff5b77cc029a28a99a1795a95d4cc16"><div class="ttname"><a href="a01024.html#a7ff5b77cc029a28a99a1795a95d4cc16">ssim::SummaryReport::addPointCost</a></div><div class="ttdeci">void addPointCost(const State state, const Cost cost, int index=0)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00732">microsimulation.h:732</a></div></div>
<div class="ttc" id="aa01028_html"><div class="ttname"><a href="a01028.html">ssim::CostReport</a></div><div class="ttdoc">CostReport class for collecting statistics on costs.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00825">microsimulation.h:825</a></div></div>
<div class="ttc" id="aa00011_html_ad18657ebbe6ccb6300be21945857104b"><div class="ttname"><a href="a00011.html#ad18657ebbe6ccb6300be21945857104b">it</a></div><div class="ttdeci">GNU Free Documentation License March Inc Temple MA USA Everyone is permitted to copy and distribute verbatim copies of this license but changing it is not allowed PREAMBLE The purpose of this License is to make a or other written document free in the sense of with or without modifying it</div><div class="ttdef"><b>Definition:</b> <a href="a00011_source.html#l00015">fdl.txt:15</a></div></div>
<div class="ttc" id="aa01020_html_a9237f52c317f150729619e75dd3d1781"><div class="ttname"><a href="a01020.html#a9237f52c317f150729619e75dd3d1781">ssim::EventReport::addBrief</a></div><div class="ttdeci">void addBrief(const Time lhs, const Time rhs, const Utility utility=1)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00556">microsimulation.h:556</a></div></div>
<div class="ttc" id="aa00079_html"><div class="ttname"><a href="a00079.html">R</a></div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00106">microsimulation.cc:106</a></div></div>
<div class="ttc" id="aa01016_html"><div class="ttname"><a href="a01016.html">ssim::Rng</a></div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00393">microsimulation.h:393</a></div></div>
<div class="ttc" id="aa01008_html_a56b6b79b62503f1de8ac8949b94dd458"><div class="ttname"><a href="a01008.html#a56b6b79b62503f1de8ac8949b94dd458">ssim::Means::mean</a></div><div class="ttdeci">double mean()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00302">microsimulation.h:302</a></div></div>
<div class="ttc" id="aa01024_html_acc158ebfb010717da85783e65f424e66"><div class="ttname"><a href="a01024.html#acc158ebfb010717da85783e65f424e66">ssim::SummaryReport::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00687">microsimulation.h:687</a></div></div>
<div class="ttc" id="aa00078_html_a1147310fcfd832b0e699ca136f7b3691"><div class="ttname"><a href="a00078.html#a1147310fcfd832b0e699ca136f7b3691">ssim::cMessageKindPred</a></div><div class="ttdeci">bool cMessageKindPred(const ssim::Event *e, const short k)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00224">microsimulation.h:224</a></div></div>
<div class="ttc" id="aa01024_html_adac39083a3a1fe8a4863b40f67431111"><div class="ttname"><a href="a01024.html#adac39083a3a1fe8a4863b40f67431111">ssim::SummaryReport::resize</a></div><div class="ttdeci">void resize(int size)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00656">microsimulation.h:656</a></div></div>
<div class="ttc" id="aa00078_html_a65d4b320e17111259724742cbb8bd004"><div class="ttname"><a href="a00078.html#a65d4b320e17111259724742cbb8bd004">ssim::r_create_current_stream</a></div><div class="ttdeci">void r_create_current_stream()</div><div class="ttdoc">A utility function to create the current_stream. Used when initialising the microsimulation package i...</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00037">microsimulation.cc:37</a></div></div>
<div class="ttc" id="aa01028_html_ac43ee8dfc3c38deb0cb6cf6138886064"><div class="ttname"><a href="a01028.html#ac43ee8dfc3c38deb0cb6cf6138886064">ssim::CostReport::resize</a></div><div class="ttdeci">void resize(int size)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00878">microsimulation.h:878</a></div></div>
<div class="ttc" id="aa01028_html_ace6aa5a98c3388dcdc5d8bb631bb0762"><div class="ttname"><a href="a01028.html#ace6aa5a98c3388dcdc5d8bb631bb0762">ssim::CostReport::setIndivN</a></div><div class="ttdeci">void setIndivN(const int n)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00847">microsimulation.h:847</a></div></div>
<div class="ttc" id="aa01008_html_afc14beada9935595028b0d6684c25da8"><div class="ttname"><a href="a01008.html#afc14beada9935595028b0d6684c25da8">ssim::Means::sd</a></div><div class="ttdeci">double sd()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00306">microsimulation.h:306</a></div></div>
<div class="ttc" id="aa01024_html_a68b9a6f803db2b614e8f1306d593d656"><div class="ttname"><a href="a01024.html#a68b9a6f803db2b614e8f1306d593d656">ssim::SummaryReport::_pt</a></div><div class="ttdeci">PtMap _pt</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00811">microsimulation.h:811</a></div></div>
<div class="ttc" id="aa01020_html_a76de84761e74ae0c212c7b253f9c7089"><div class="ttname"><a href="a01020.html#a76de84761e74ae0c212c7b253f9c7089">ssim::EventReport::Partition</a></div><div class="ttdeci">std::set&lt; Time, std::greater&lt; Time &gt; &gt; Partition</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00492">microsimulation.h:492</a></div></div>
<div class="ttc" id="aa01028_html_a8e3fe031a4222f979bac684c12766d1f"><div class="ttname"><a href="a01028.html#a8e3fe031a4222f979bac684c12766d1f">ssim::CostReport::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00872">microsimulation.h:872</a></div></div>
<div class="ttc" id="aa00078_html_af2e3f218e7c225a02d8a41a3e58d3134"><div class="ttname"><a href="a00078.html#af2e3f218e7c225a02d8a41a3e58d3134">ssim::simTime</a></div><div class="ttdeci">Time simTime()</div><div class="ttdoc">simTime() function for OMNET++ API compatibility</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00018">microsimulation.cc:18</a></div></div>
<div class="ttc" id="aa01020_html_a09d5a8f0ae4a32dce27a0d995f334b42"><div class="ttname"><a href="a01020.html#a09d5a8f0ae4a32dce27a0d995f334b42">ssim::EventReport::_vector</a></div><div class="ttdeci">IndividualUtilities _vector</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00627">microsimulation.h:627</a></div></div>
<div class="ttc" id="aa01016_html_a9bc74ef99cdae9a9b1d50f82e4e4df2f"><div class="ttname"><a href="a01016.html#a9bc74ef99cdae9a9b1d50f82e4e4df2f">ssim::Rng::seed</a></div><div class="ttdeci">void seed(const double seed[6])</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00401">microsimulation.h:401</a></div></div>
<div class="ttc" id="aa01072_html"><div class="ttname"><a href="a01072.html">ssim::RngStream</a></div><div class="ttdef"><b>Definition:</b> <a href="a00062_source.html#l00030">RngStream.h:30</a></div></div>
<div class="ttc" id="aa00078_html_a4f5da079da642a3ab4bc28f4f307a9d1"><div class="ttname"><a href="a00078.html#a4f5da079da642a3ab4bc28f4f307a9d1">ssim::now</a></div><div class="ttdeci">Time now()</div><div class="ttdoc">now() function for compatibility with C++SIM</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00014">microsimulation.cc:14</a></div></div>
<div class="ttc" id="aa01004_html_ad89844c8ea2b9f7032191d1747155980"><div class="ttname"><a href="a01004.html#ad89844c8ea2b9f7032191d1747155980">ssim::cProcess::handleMessage</a></div><div class="ttdeci">virtual void handleMessage(const cMessage *msg)=0</div></div>
<div class="ttc" id="aa01024_html_a0fd9c37de89cf22f8b36b40db4b2719b"><div class="ttname"><a href="a01024.html#a0fd9c37de89cf22f8b36b40db4b2719b">ssim::SummaryReport::_costs</a></div><div class="ttdeci">CostMap _costs</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00813">microsimulation.h:813</a></div></div>
<div class="ttc" id="aa01008_html"><div class="ttname"><a href="a01008.html">ssim::Means</a></div><div class="ttdoc">Utility class to incrementally add values to calculate the mean, sum, variance and standard deviation...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00300">microsimulation.h:300</a></div></div>
<div class="ttc" id="aa01024_html_a44f6d78d102f4a9f822a67633d3fbe68"><div class="ttname"><a href="a01024.html#a44f6d78d102f4a9f822a67633d3fbe68">ssim::SummaryReport::indivp</a></div><div class="ttdeci">bool indivp</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00807">microsimulation.h:807</a></div></div>
<div class="ttc" id="aa01024_html_a46dfab92c306ff6900f08a4f76fab554"><div class="ttname"><a href="a01024.html#a46dfab92c306ff6900f08a4f76fab554">ssim::SummaryReport::asList</a></div><div class="ttdeci">Rcpp::List asList()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00749">microsimulation.h:749</a></div></div>
<div class="ttc" id="aa01016_html_a3078607710e93eb844c69c8a87815c4c"><div class="ttname"><a href="a01016.html#a3078607710e93eb844c69c8a87815c4c">ssim::Rng::Rng</a></div><div class="ttdeci">Rng()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00399">microsimulation.h:399</a></div></div>
<div class="ttc" id="aa00079_html_ab3a430fb3f11743b39bc935e31763507"><div class="ttname"><a href="a00079.html#ab3a430fb3f11743b39bc935e31763507">R::rnormPos</a></div><div class="ttdeci">double rnormPos(double mean, double sd)</div><div class="ttdoc">rnorm function constrained to be positive. This uses brute-force re-sampling rather than conditioning...</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00107">microsimulation.cc:107</a></div></div>
<div class="ttc" id="aa00059_html"><div class="ttname"><a href="a00059.html">rcpp_table.h</a></div></div>
<div class="ttc" id="aa01024_html"><div class="ttname"><a href="a01024.html">ssim::SummaryReport</a></div><div class="ttdoc">SummaryReport class for collecting statistics on person-time, prevalence, events and costs.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00638">microsimulation.h:638</a></div></div>
<div class="ttc" id="aa01012_html_a45781ec6868785bba597cd5843ee5506"><div class="ttname"><a href="a01012.html#a45781ec6868785bba597cd5843ee5506">ssim::Rpexp::t</a></div><div class="ttdeci">vector&lt; double &gt; t</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00376">microsimulation.h:376</a></div></div>
<div class="ttc" id="aa01008_html_aec6736302406ddc1a2286243e5b95c4c"><div class="ttname"><a href="a01008.html#aec6736302406ddc1a2286243e5b95c4c">ssim::Means::_n</a></div><div class="ttdeci">int _n</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00326">microsimulation.h:326</a></div></div>
<div class="ttc" id="aa01020_html_afe9b8907e7d5d9fb907f92dc7f5f6abc"><div class="ttname"><a href="a01020.html#afe9b8907e7d5d9fb907f92dc7f5f6abc">ssim::EventReport::add</a></div><div class="ttdeci">void add(const State state, const Event event, const Time lhs, const Time rhs, const Utility utility=1, int index=0)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00560">microsimulation.h:560</a></div></div>
<div class="ttc" id="aa01024_html_afec9a874f389406d7271f489fc159d1c"><div class="ttname"><a href="a01024.html#afec9a874f389406d7271f489fc159d1c">ssim::SummaryReport::append</a></div><div class="ttdeci">void append(SummaryReport&lt; State, Event, Time, Utility &gt; &amp;er)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00740">microsimulation.h:740</a></div></div>
<div class="ttc" id="aa01024_html_a76105bc8d624fc161ece333b72d39ee0"><div class="ttname"><a href="a01024.html#a76105bc8d624fc161ece333b72d39ee0">ssim::SummaryReport::setPartition</a></div><div class="ttdeci">void setPartition(const vector&lt; Time &gt; v)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00672">microsimulation.h:672</a></div></div>
<div class="ttc" id="aa01024_html_a7df8c37eee8b2b15a0b87e04657c5168"><div class="ttname"><a href="a01024.html#a7df8c37eee8b2b15a0b87e04657c5168">ssim::SummaryReport::setUtilityDiscountRate</a></div><div class="ttdeci">void setUtilityDiscountRate(Utility discountRate)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00664">microsimulation.h:664</a></div></div>
<div class="ttc" id="aa00078_html_a440a324691afecd012af46363a59b135"><div class="ttname"><a href="a00078.html#a440a324691afecd012af46363a59b135">ssim::discountedInterval</a></div><div class="ttdeci">double discountedInterval(double start, double end, double discountRate)</div><div class="ttdoc">Simple function to calculate the integral between the start and end times for (1+kappa)^(-u),...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00461">microsimulation.h:461</a></div></div>
<div class="ttc" id="aa01032_html_a04c81468020e0a0239b5cc156ed9702d"><div class="ttname"><a href="a01032.html#a04c81468020e0a0239b5cc156ed9702d">ssim::SimpleReport::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">clear the report data</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00945">microsimulation.h:945</a></div></div>
<div class="ttc" id="aa01020_html_afdeb94ac0c830ea0582df6a5ebebd76d"><div class="ttname"><a href="a01020.html#afdeb94ac0c830ea0582df6a5ebebd76d">ssim::EventReport::Pair</a></div><div class="ttdeci">std::pair&lt; State, Time &gt; Pair</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00494">microsimulation.h:494</a></div></div>
<div class="ttc" id="aa01024_html_af8685581b107932c962f198efec29f80"><div class="ttname"><a href="a01024.html#af8685581b107932c962f198efec29f80">ssim::SummaryReport::SummaryReport</a></div><div class="ttdeci">SummaryReport(int n=1, bool indivp=true, Utility discountRate=0.0)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00650">microsimulation.h:650</a></div></div>
<div class="ttc" id="aa01032_html_adf028f6fe6aa99296a2cc4187c017049"><div class="ttname"><a href="a01032.html#adf028f6fe6aa99296a2cc4187c017049">ssim::SimpleReport::record</a></div><div class="ttdeci">void record(string field, T value)</div><div class="ttdoc">record adds a value for a given field into the SimpleReport</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00930">microsimulation.h:930</a></div></div>
<div class="ttc" id="aa01008_html_ac8b2432cbd21a598d893aa2c82a1bb9a"><div class="ttname"><a href="a01008.html#ac8b2432cbd21a598d893aa2c82a1bb9a">ssim::Means::_sumsq</a></div><div class="ttdeci">long double _sumsq</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00327">microsimulation.h:327</a></div></div>
<div class="ttc" id="aa01052_html"><div class="ttname"><a href="a01052.html">Table</a></div><div class="ttdef"><b>Definition:</b> <a href="a00059_source.html#l00148">rcpp_table.h:148</a></div></div>
<div class="ttc" id="aa01000_html_ac33203376a9d527d7d576dc0010706e5"><div class="ttname"><a href="a01000.html#ac33203376a9d527d7d576dc0010706e5">ssim::cMessage::getKind</a></div><div class="ttdeci">short getKind()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00195">microsimulation.h:195</a></div></div>
<div class="ttc" id="aa01024_html_a7fc9f95ad39bfc54afa967cb2611d599"><div class="ttname"><a href="a01024.html#a7fc9f95ad39bfc54afa967cb2611d599">ssim::SummaryReport::setDiscountRate</a></div><div class="ttdeci">void setDiscountRate(Utility discountRate)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00660">microsimulation.h:660</a></div></div>
<div class="ttc" id="aa01024_html_a852e9d0f16a1074bb4d5cea62bdc4793"><div class="ttname"><a href="a01024.html#a852e9d0f16a1074bb4d5cea62bdc4793">ssim::SummaryReport::EventMap</a></div><div class="ttdeci">boost::unordered_map&lt; boost::tuple&lt; State, Event, Time &gt;, int &gt; EventMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00646">microsimulation.h:646</a></div></div>
<div class="ttc" id="aa01080_html"><div class="ttname"><a href="a01080.html">ssim::Process</a></div><div class="ttdoc">Virtual class (interface) representing processes running within the simulator.</div><div class="ttdef"><b>Definition:</b> <a href="a00065_source.html#l00130">ssim.h:130</a></div></div>
<div class="ttc" id="aa01024_html_aa0690dd36d0f4fe584a9eaf0ffbc500b"><div class="ttname"><a href="a01024.html#aa0690dd36d0f4fe584a9eaf0ffbc500b">ssim::SummaryReport::discountedCostInterval</a></div><div class="ttdeci">Cost discountedCostInterval(Time a, Time b, Cost cost)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00779">microsimulation.h:779</a></div></div>
<div class="ttc" id="aa01000_html_a5957069d7f19e934e382fd021c9990a7"><div class="ttname"><a href="a01000.html#a5957069d7f19e934e382fd021c9990a7">ssim::cMessage::sendingTime</a></div><div class="ttdeci">Time sendingTime</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00201">microsimulation.h:201</a></div></div>
<div class="ttc" id="aa01024_html_a20233fd551c90d23ce44793ca32e534e"><div class="ttname"><a href="a01024.html#a20233fd551c90d23ce44793ca32e534e">ssim::SummaryReport::costDiscountRate</a></div><div class="ttdeci">Cost costDiscountRate</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00818">microsimulation.h:818</a></div></div>
<div class="ttc" id="aa00011_html_a5e58fd40522df95f81f73af0e0beb58b"><div class="ttname"><a href="a00011.html#a5e58fd40522df95f81f73af0e0beb58b">copy</a></div><div class="ttdeci">it can be used for any textual regardless of subject matter or whether it is published as a printed book We recommend this License principally for works whose purpose is instruction or reference APPLICABILITY AND DEFINITIONS This License applies to any manual or other work that contains a notice placed by the copyright holder saying it can be distributed under the terms of this License The refers to any such manual or work Any member of the public is a and is addressed as you A Modified Version of the Document means any work containing the Document or a portion of either copied or with modifications and or translated into another language A Secondary Section is a named appendix or a front matter section of the Document that deals exclusively with the relationship of the publishers or authors of the Document to the Document s overall if the Document is in part a textbook of a Secondary Section may not explain any mathematics The relationship could be a matter of historical connection with the subject or with related or of ethical or political position regarding them The Invariant Sections are certain Secondary Sections whose titles are as being those of Invariant in the notice that says that the Document is released under this License The Cover Texts are certain short passages of text that are as Front Cover Texts or Back Cover in the notice that says that the Document is released under this License A Transparent copy of the Document means a machine readable copy</div><div class="ttdef"><b>Definition:</b> <a href="a00011_source.html#l00065">fdl.txt:65</a></div></div>
<div class="ttc" id="aa01028_html_a48f8c27b7f2fe31bc3ae8fae313088e0"><div class="ttname"><a href="a01028.html#a48f8c27b7f2fe31bc3ae8fae313088e0">ssim::CostReport::setStartReportAge</a></div><div class="ttdeci">void setStartReportAge(const Time a)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00851">microsimulation.h:851</a></div></div>
<div class="ttc" id="aa01024_html_a50137aa366ec62ea4a72b23644e3f006"><div class="ttname"><a href="a01024.html#a50137aa366ec62ea4a72b23644e3f006">ssim::SummaryReport::discountedCost</a></div><div class="ttdeci">Cost discountedCost(Time a, Cost cost)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00790">microsimulation.h:790</a></div></div>
<div class="ttc" id="aa01012_html_ab06650a0197176a359f09f01213746da"><div class="ttname"><a href="a01012.html#ab06650a0197176a359f09f01213746da">ssim::Rpexp::h</a></div><div class="ttdeci">vector&lt; double &gt; h</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00376">microsimulation.h:376</a></div></div>
<div class="ttc" id="aa00078_html_a02ac50a56e6e544509d8324feb84bc9d"><div class="ttname"><a href="a00078.html#a02ac50a56e6e544509d8324feb84bc9d">ssim::RemoveKind</a></div><div class="ttdeci">void RemoveKind(short kind)</div><div class="ttdoc">RemoveKind is a function to remove messages with the given kind from the queue (NB: void)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00269">microsimulation.h:269</a></div></div>
<div class="ttc" id="aa01004_html"><div class="ttname"><a href="a01004.html">ssim::cProcess</a></div><div class="ttdoc">cProcess class for OMNET++ API compatibility. This provides a default for Process::process_event() th...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00236">microsimulation.h:236</a></div></div>
<div class="ttc" id="aa01032_html_a6ae1d365c7e8b8911a47af46c3224282"><div class="ttname"><a href="a01032.html#a6ae1d365c7e8b8911a47af46c3224282">ssim::SimpleReport::append</a></div><div class="ttdeci">void append(SimpleReport&lt; T &gt; &amp;obj)</div><div class="ttdoc">append another SimpleReport, which is useful for aggregating multiple reports.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00955">microsimulation.h:955</a></div></div>
<div class="ttc" id="aa01020_html_a5e2cfa54758aa723ac0c838784cbda15"><div class="ttname"><a href="a01020.html#a5e2cfa54758aa723ac0c838784cbda15">ssim::EventReport::wrap_means</a></div><div class="ttdeci">SEXP wrap_means()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00617">microsimulation.h:617</a></div></div>
<div class="ttc" id="aa01024_html_aba00e703b8ab53b87869a879f2e74f0d"><div class="ttname"><a href="a01024.html#aba00e703b8ab53b87869a879f2e74f0d">ssim::SummaryReport::Pair</a></div><div class="ttdeci">std::pair&lt; State, Time &gt; Pair</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00642">microsimulation.h:642</a></div></div>
<div class="ttc" id="aa01004_html_a9b43b5197e57c2b061a373bf80525598"><div class="ttname"><a href="a01004.html#a9b43b5197e57c2b061a373bf80525598">ssim::cProcess::cProcess</a></div><div class="ttdeci">cProcess(Time startTime=Time(0.0))</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00238">microsimulation.h:238</a></div></div>
<div class="ttc" id="aa01012_html_af0b2868480df6575dacacdaff0b87c04"><div class="ttname"><a href="a01012.html#af0b2868480df6575dacacdaff0b87c04">ssim::Rpexp::H</a></div><div class="ttdeci">vector&lt; double &gt; H</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00376">microsimulation.h:376</a></div></div>
<div class="ttc" id="aa01020_html_a68dd9f99ffe7b6dabe328982d11e932f"><div class="ttname"><a href="a01020.html#a68dd9f99ffe7b6dabe328982d11e932f">ssim::EventReport::PrevMap</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, int &gt; PrevMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00495">microsimulation.h:495</a></div></div>
<div class="ttc" id="aa01020_html_ae371ab2ae6b14a9f33f9d65e20970e38"><div class="ttname"><a href="a01020.html#ae371ab2ae6b14a9f33f9d65e20970e38">ssim::EventReport::individualReset</a></div><div class="ttdeci">void individualReset()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00532">microsimulation.h:532</a></div></div>
<div class="ttc" id="aa01020_html_a9c9a5c50eb92349fe4abbe98d46613f5"><div class="ttname"><a href="a01020.html#a9c9a5c50eb92349fe4abbe98d46613f5">ssim::EventReport::setIndivN</a></div><div class="ttdeci">void setIndivN(const int n)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00516">microsimulation.h:516</a></div></div>
<div class="ttc" id="aa01072_html_a6a8619ad20a86429e0e718023d8dc23c"><div class="ttname"><a href="a01072.html#a6a8619ad20a86429e0e718023d8dc23c">ssim::RngStream::RandU01</a></div><div class="ttdeci">double RandU01()</div><div class="ttdef"><b>Definition:</b> <a href="a00038_source.html#l00566">RngStream.cpp:566</a></div></div>
<div class="ttc" id="aa01024_html_afcb4cd72b5d9235b5eb4d58174e5188b"><div class="ttname"><a href="a01024.html#afcb4cd72b5d9235b5eb4d58174e5188b">ssim::SummaryReport::setPartition</a></div><div class="ttdeci">void setPartition(const Time start, const Time finish, const Time delta, const Time maxTime=Time(1.0e100))</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00675">microsimulation.h:675</a></div></div>
<div class="ttc" id="aa01000_html_a654326fb8db171ade8c1987bedff063d"><div class="ttname"><a href="a01000.html#a654326fb8db171ade8c1987bedff063d">ssim::cMessage::getTimestamp</a></div><div class="ttdeci">Time getTimestamp()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00197">microsimulation.h:197</a></div></div>
<div class="ttc" id="aa01020_html_aa3b7dae35f9f792961118b68fc32aeab"><div class="ttname"><a href="a01020.html#aa3b7dae35f9f792961118b68fc32aeab">ssim::EventReport::current</a></div><div class="ttdeci">Utility current</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00620">microsimulation.h:620</a></div></div>
<div class="ttc" id="aa00081_html"><div class="ttname"><a href="a00081.html">boost</a></div><div class="ttdef"><b>Definition:</b> <a href="a00032_source.html#l00052">rngstream-boost.hpp:52</a></div></div>
<div class="ttc" id="aa01020_html_a488145b360517c8dd440c7c65d60afc3"><div class="ttname"><a href="a01020.html#a488145b360517c8dd440c7c65d60afc3">ssim::EventReport::_partition</a></div><div class="ttdeci">Partition _partition</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00622">microsimulation.h:622</a></div></div>
<div class="ttc" id="aa01024_html_ad250c61cd3a82f126f2b387a74aed1fe"><div class="ttname"><a href="a01024.html#ad250c61cd3a82f126f2b387a74aed1fe">ssim::SummaryReport::CostMap</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, Cost &gt; CostMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00647">microsimulation.h:647</a></div></div>
<div class="ttc" id="aa01020_html_aa0733bb0a44f43368e95db0039c8be76"><div class="ttname"><a href="a01020.html#aa0733bb0a44f43368e95db0039c8be76">ssim::EventReport::indiv</a></div><div class="ttdeci">bool indiv</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00631">microsimulation.h:631</a></div></div>
<div class="ttc" id="aa01028_html_ae2ea741a44b889275dd440f16d0378f8"><div class="ttname"><a href="a01028.html#ae2ea741a44b889275dd440f16d0378f8">ssim::CostReport::add</a></div><div class="ttdeci">void add(const State state, const Time time, const Cost cost, const int index=0)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00888">microsimulation.h:888</a></div></div>
<div class="ttc" id="aa01028_html_a61bf1c102f0e83e9e6a4312844926ba7"><div class="ttname"><a href="a01028.html#a61bf1c102f0e83e9e6a4312844926ba7">ssim::CostReport::individualReset</a></div><div class="ttdeci">void individualReset()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00835">microsimulation.h:835</a></div></div>
<div class="ttc" id="aa01024_html_a67aa9625f696ead066832bc1cb656375"><div class="ttname"><a href="a01024.html#a67aa9625f696ead066832bc1cb656375">ssim::SummaryReport::add</a></div><div class="ttdeci">void add(const State state, const Event event, const Time lhs, const Time rhs, int index=0)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00697">microsimulation.h:697</a></div></div>
<div class="ttc" id="aa00078_html_a64ef5a9b487e7250188629e859b4df5e"><div class="ttname"><a href="a00078.html#a64ef5a9b487e7250188629e859b4df5e">ssim::RemoveName</a></div><div class="ttdeci">void RemoveName(string name)</div><div class="ttdoc">RemoveName is a function to remove messages with the given name from the queue (NB: void)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00276">microsimulation.h:276</a></div></div>
<div class="ttc" id="aa00078_html_af5da6fd167a9f5b9e5ec4666d24c3771"><div class="ttname"><a href="a00078.html#af5da6fd167a9f5b9e5ec4666d24c3771">ssim::r_remove_current_stream</a></div><div class="ttdeci">void r_remove_current_stream()</div><div class="ttdoc">A utility function to remove the current_stream. Used when finalising the microsimulation package in ...</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00043">microsimulation.cc:43</a></div></div>
<div class="ttc" id="aa01004_html_abcc748e54cd3a55117e57233d1ad13cf"><div class="ttname"><a href="a01004.html#abcc748e54cd3a55117e57233d1ad13cf">ssim::cProcess::process_event</a></div><div class="ttdeci">virtual void process_event(const ssim::Event *e)</div><div class="ttdoc">action executed in response to an event signaled to this process.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00240">microsimulation.h:240</a></div></div>
<div class="ttc" id="aa01000_html_a1bca7fc8495a53bb3383bb295ad09870"><div class="ttname"><a href="a01000.html#a1bca7fc8495a53bb3383bb295ad09870">ssim::cMessage::timestamp</a></div><div class="ttdeci">Time timestamp</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00201">microsimulation.h:201</a></div></div>
<div class="ttc" id="aa01020_html_aabbae56d646a3b2d45877ff481d07d87"><div class="ttname"><a href="a01020.html#aabbae56d646a3b2d45877ff481d07d87">ssim::EventReport::EventsMap</a></div><div class="ttdeci">boost::unordered_map&lt; boost::tuple&lt; State, Event, Time &gt;, int &gt; EventsMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00498">microsimulation.h:498</a></div></div>
<div class="ttc" id="aa00088_html"><div class="ttname"><a href="a00088.html">Rcpp</a></div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00077">microsimulation.h:77</a></div></div>
<div class="ttc" id="aa01004_html_af3b02872bb630d1c9d84f1ab70ff1e66"><div class="ttname"><a href="a01004.html#af3b02872bb630d1c9d84f1ab70ff1e66">ssim::cProcess::scheduleAt</a></div><div class="ttdeci">virtual void scheduleAt(Time t, string s)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00255">microsimulation.h:255</a></div></div>
<div class="ttc" id="aa00078_html_a28ae2633f74ef7f8ed4ffd0552c2ae19"><div class="ttname"><a href="a00078.html#a28ae2633f74ef7f8ed4ffd0552c2ae19">ssim::r_set_user_random_seed</a></div><div class="ttdeci">void r_set_user_random_seed(double *inseed)</div><div class="ttdoc">A utility function to set the user random seed for the simulation.</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00048">microsimulation.cc:48</a></div></div>
<div class="ttc" id="aa01028_html_a2ae357781b637c9eac2ba708b245d228"><div class="ttname"><a href="a01028.html#a2ae357781b637c9eac2ba708b245d228">ssim::CostReport::discountedCost</a></div><div class="ttdeci">Cost discountedCost(Time a, Cost cost)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00854">microsimulation.h:854</a></div></div>
<div class="ttc" id="aa01012_html_aaededfcc2fc84ccaeccddc0a124dd21c"><div class="ttname"><a href="a01012.html#aaededfcc2fc84ccaeccddc0a124dd21c">ssim::Rpexp::Rpexp</a></div><div class="ttdeci">Rpexp(double *hin, double *tin, int nin)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00339">microsimulation.h:339</a></div></div>
<div class="ttc" id="aa01092_html_aea08c0eb1e82c0bb5e92e5e845230bc0"><div class="ttname"><a href="a01092.html#aea08c0eb1e82c0bb5e92e5e845230bc0">ssim::Sim::clock</a></div><div class="ttdeci">static Time clock()</div><div class="ttdoc">returns the current virtual time for the current process</div><div class="ttdef"><b>Definition:</b> <a href="a00047_source.html#l00266">ssim.cc:266</a></div></div>
<div class="ttc" id="aa01020_html_ac266e138fd735d862ee4855ed8d75d25"><div class="ttname"><a href="a01020.html#ac266e138fd735d862ee4855ed8d75d25">ssim::EventReport::discountedUtilities</a></div><div class="ttdeci">Utility discountedUtilities(Time a, Time b, Utility utility=1.0)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00544">microsimulation.h:544</a></div></div>
<div class="ttc" id="aa00088_html_abbe941ac926cf5f4e5e5bf42a189f9a9"><div class="ttname"><a href="a00088.html#abbe941ac926cf5f4e5e5bf42a189f9a9">Rcpp::wrap</a></div><div class="ttdeci">SEXP wrap(const std::vector&lt; std::pair&lt; T1, T2 &gt; &gt; v)</div></div>
<div class="ttc" id="aa01024_html_a2f39514adad2e8e91ec0d75216f0a1c5"><div class="ttname"><a href="a01024.html#a2f39514adad2e8e91ec0d75216f0a1c5">ssim::SummaryReport::_events</a></div><div class="ttdeci">EventMap _events</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00812">microsimulation.h:812</a></div></div>
<div class="ttc" id="aa01020_html_a0812b44200444c2fb08f621a7ba14b6b"><div class="ttname"><a href="a01020.html#a0812b44200444c2fb08f621a7ba14b6b">ssim::EventReport::_prev</a></div><div class="ttdeci">PrevMap _prev</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00623">microsimulation.h:623</a></div></div>
<div class="ttc" id="aa01016_html_af753c1dc6487ef0ddc43d179f015634f"><div class="ttname"><a href="a01016.html#af753c1dc6487ef0ddc43d179f015634f">ssim::Rng::min</a></div><div class="ttdeci">result_type min()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00397">microsimulation.h:397</a></div></div>
<div class="ttc" id="aa00088_html_a2fe0c3314121f8dd30467064e925ed32"><div class="ttname"><a href="a00088.html#a2fe0c3314121f8dd30467064e925ed32">Rcpp::wrap_map</a></div><div class="ttdeci">SEXP wrap_map(const boost::unordered_map&lt; std::pair&lt; boost::tuple&lt; T1, T2, T3 &gt;, T4 &gt;, T5 &gt; ov, std::string name1, std::string name2)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l01304">microsimulation.h:1304</a></div></div>
<div class="ttc" id="aa01028_html_ac443990355b96e869538f850582c3e07"><div class="ttname"><a href="a01028.html#ac443990355b96e869538f850582c3e07">ssim::CostReport::append</a></div><div class="ttdeci">void append(This &amp;new_report)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00881">microsimulation.h:881</a></div></div>
<div class="ttc" id="aa01024_html_a2b0ba43249d048b2ab86d77a70e9bd98"><div class="ttname"><a href="a01024.html#a2b0ba43249d048b2ab86d77a70e9bd98">ssim::SummaryReport::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00806">microsimulation.h:806</a></div></div>
<div class="ttc" id="aa01020_html_a4a6b47654cbe98602db1067e38a877bd"><div class="ttname"><a href="a01020.html#a4a6b47654cbe98602db1067e38a877bd">ssim::EventReport::discountRate</a></div><div class="ttdeci">Utility discountRate</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00620">microsimulation.h:620</a></div></div>
<div class="ttc" id="aa01004_html_ac08a0d2fee8a0ca803d524c92c03e5f3"><div class="ttname"><a href="a01004.html#ac08a0d2fee8a0ca803d524c92c03e5f3">ssim::cProcess::scheduleAt</a></div><div class="ttdeci">virtual void scheduleAt(Time t, cMessage *msg)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00250">microsimulation.h:250</a></div></div>
<div class="ttc" id="aa01000_html_a74484b769f4291db58b3a97fb018b160"><div class="ttname"><a href="a01000.html#a74484b769f4291db58b3a97fb018b160">ssim::cMessage::str</a></div><div class="ttdeci">string str() const</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00202">microsimulation.h:202</a></div></div>
<div class="ttc" id="aa01024_html_a06fcd6b9473e3f9019ff83224c84124f"><div class="ttname"><a href="a01024.html#a06fcd6b9473e3f9019ff83224c84124f">ssim::SummaryReport::utilityDiscountRate</a></div><div class="ttdeci">Utility utilityDiscountRate</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00817">microsimulation.h:817</a></div></div>
<div class="ttc" id="aa01008_html_ab9dda77576e23b80053ad1972c0e0891"><div class="ttname"><a href="a01008.html#ab9dda77576e23b80053ad1972c0e0891">ssim::Means::_sum</a></div><div class="ttdeci">long double _sum</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00327">microsimulation.h:327</a></div></div>
<div class="ttc" id="aa01024_html_a645a5faaf92f3f78946a534335f2a342"><div class="ttname"><a href="a01024.html#a645a5faaf92f3f78946a534335f2a342">ssim::SummaryReport::discountedUtilityInterval</a></div><div class="ttdeci">Utility discountedUtilityInterval(Time a, Time b, Utility utility)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00768">microsimulation.h:768</a></div></div>
<div class="ttc" id="aa01024_html_a557c5dba2cc89e1b10a2eda66c267eac"><div class="ttname"><a href="a01024.html#a557c5dba2cc89e1b10a2eda66c267eac">ssim::SummaryReport::UtilityMap</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, Utility &gt; UtilityMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00644">microsimulation.h:644</a></div></div>
<div class="ttc" id="aa01032_html_aa606e0342a3bc2e2aa3b31fb2332a31b"><div class="ttname"><a href="a01032.html#aa606e0342a3bc2e2aa3b31fb2332a31b">ssim::SimpleReport::_data</a></div><div class="ttdeci">Map _data</div><div class="ttdoc">_data class member of a map from strings to vector&lt;T&gt;.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00963">microsimulation.h:963</a></div></div>
<div class="ttc" id="aa01028_html_a9bebeccdfe8d019037afedd0ac10cc78"><div class="ttname"><a href="a01028.html#a9bebeccdfe8d019037afedd0ac10cc78">ssim::CostReport::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00913">microsimulation.h:913</a></div></div>
<div class="ttc" id="aa00088_html_af8492abf48596714cc94b1966086be1c"><div class="ttname"><a href="a00088.html#af8492abf48596714cc94b1966086be1c">Rcpp::wrap_map</a></div><div class="ttdeci">SEXP wrap_map(const std::map&lt; T1, T2 &gt; v)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l01193">microsimulation.h:1193</a></div></div>
<div class="ttc" id="aa01020_html_a00cc4e5b42261e708158d4ef87caa713"><div class="ttname"><a href="a01020.html#a00cc4e5b42261e708158d4ef87caa713">ssim::EventReport::Iterator</a></div><div class="ttdeci">Partition::iterator Iterator</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00493">microsimulation.h:493</a></div></div>
<div class="ttc" id="aa01008_html_a9e0222c9c0e006e92b4e1a64e390bb41"><div class="ttname"><a href="a01008.html#a9e0222c9c0e006e92b4e1a64e390bb41">ssim::Means::sum</a></div><div class="ttdeci">double sum()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00305">microsimulation.h:305</a></div></div>
<div class="ttc" id="aa01020_html_a79bb02fa4c3828b3810d1f1c57e58228"><div class="ttname"><a href="a01020.html#a79bb02fa4c3828b3810d1f1c57e58228">ssim::EventReport::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00523">microsimulation.h:523</a></div></div>
<div class="ttc" id="aa00078_html_ae340d82173ad44dfe8cebe82d8e686cd"><div class="ttname"><a href="a00078.html#ae340d82173ad44dfe8cebe82d8e686cd">ssim::transpose</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; T &gt; &gt; transpose(const std::vector&lt; std::vector&lt; T &gt; &gt; data)</div><div class="ttdoc">Function to transpose a vector of vectors. This assumes that all inner vectors have the same size and...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00475">microsimulation.h:475</a></div></div>
<div class="ttc" id="aa01004_html_a8742b8248561ca3064eb8c4f12f88213"><div class="ttname"><a href="a01004.html#a8742b8248561ca3064eb8c4f12f88213">ssim::cProcess::init</a></div><div class="ttdeci">virtual void init()=0</div></div>
<div class="ttc" id="aa01024_html_abc9178f6aae13e8480d9c8f3a8b8eed0"><div class="ttname"><a href="a01024.html#abc9178f6aae13e8480d9c8f3a8b8eed0">ssim::SummaryReport::append_map</a></div><div class="ttdeci">void append_map(T &amp;base_map, T &amp;new_map)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00801">microsimulation.h:801</a></div></div>
<div class="ttc" id="aa01020_html_ad1dba61a4dac6d57d3c6377cb883ae01"><div class="ttname"><a href="a01020.html#ad1dba61a4dac6d57d3c6377cb883ae01">ssim::EventReport::setPartition</a></div><div class="ttdeci">void setPartition(const vector&lt; Time &gt; v)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00507">microsimulation.h:507</a></div></div>
<div class="ttc" id="aa00078_html_a21fe7fd998fc91994f9d0a57c222e23e"><div class="ttname"><a href="a00078.html#a21fe7fd998fc91994f9d0a57c222e23e">ssim::Time</a></div><div class="ttdeci">double Time</div><div class="ttdoc">virtual time type</div><div class="ttdef"><b>Definition:</b> <a href="a00065_source.html#l00079">ssim.h:79</a></div></div>
<div class="ttc" id="aa01076_html"><div class="ttname"><a href="a01076.html">ssim::Event</a></div><div class="ttdoc">basic event in the simulation.</div><div class="ttdef"><b>Definition:</b> <a href="a00065_source.html#l00111">ssim.h:111</a></div></div>
<div class="ttc" id="aa01024_html_aa8174a8c26d2db80de5cbbf89ad9633b"><div class="ttname"><a href="a01024.html#aa8174a8c26d2db80de5cbbf89ad9633b">ssim::SummaryReport::setUtility</a></div><div class="ttdeci">void setUtility(Utility _utility)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00681">microsimulation.h:681</a></div></div>
<div class="ttc" id="aa01024_html_a10931be39d05459246178a61bb5d8989"><div class="ttname"><a href="a01024.html#a10931be39d05459246178a61bb5d8989">ssim::SummaryReport::PtMap</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, Time &gt; PtMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00645">microsimulation.h:645</a></div></div>
<div class="ttc" id="aa01032_html"><div class="ttname"><a href="a01032.html">ssim::SimpleReport</a></div><div class="ttdoc">SimpleReport class for collecting data for homogeneous fields of type T with string names.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00921">microsimulation.h:921</a></div></div>
<div class="ttc" id="aa00996_html_a259105e51f3b23b1828776c7d075ace6"><div class="ttname"><a href="a00996.html#a259105e51f3b23b1828776c7d075ace6">boost::tuples::detail::HashValueImpl&lt; Tuple, 0 &gt;::apply</a></div><div class="ttdeci">static void apply(size_t &amp;seed, Tuple const &amp;tuple)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00061">microsimulation.h:61</a></div></div>
<div class="ttc" id="aa01024_html_a0a1276a64e58e897f3e2f9e05ba36130"><div class="ttname"><a href="a01024.html#a0a1276a64e58e897f3e2f9e05ba36130">ssim::SummaryReport::IndividualCosts</a></div><div class="ttdeci">std::vector&lt; Cost &gt; IndividualCosts</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00648">microsimulation.h:648</a></div></div>
<div class="ttc" id="aa01016_html_a75b225be4dfc4643da942a8e518824d3"><div class="ttname"><a href="a01016.html#a75b225be4dfc4643da942a8e518824d3">ssim::Rng::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00406">microsimulation.h:406</a></div></div>
<div class="ttc" id="aa01004_html_aee5e55ab025f8870096d8a3170fec878"><div class="ttname"><a href="a01004.html#aee5e55ab025f8870096d8a3170fec878">ssim::cProcess::startTime</a></div><div class="ttdeci">Time startTime</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00263">microsimulation.h:263</a></div></div>
<div class="ttc" id="aa01000_html_ad92607e6bdf4f518161e2912ada611f3"><div class="ttname"><a href="a01000.html#ad92607e6bdf4f518161e2912ada611f3">ssim::cMessage::getSendingTime</a></div><div class="ttdeci">Time getSendingTime()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00198">microsimulation.h:198</a></div></div>
<div class="ttc" id="aa01004_html_a644be9dd4246ef5f540e9ede51e7fd0c"><div class="ttname"><a href="a01004.html#a644be9dd4246ef5f540e9ede51e7fd0c">ssim::cProcess::scheduleAt</a></div><div class="ttdeci">virtual void scheduleAt(Time t, short k)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00258">microsimulation.h:258</a></div></div>
<div class="ttc" id="aa01024_html_a54a5c270e07d186878588030782f7a1e"><div class="ttname"><a href="a01024.html#a54a5c270e07d186878588030782f7a1e">ssim::SummaryReport::_prev</a></div><div class="ttdeci">PrevMap _prev</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00809">microsimulation.h:809</a></div></div>
<div class="ttc" id="aa01020_html_ab805aacbec6228f9294880772afe4e5a"><div class="ttname"><a href="a01020.html#ab805aacbec6228f9294880772afe4e5a">ssim::EventReport::UtilityMap</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, Utility &gt; UtilityMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00496">microsimulation.h:496</a></div></div>
<div class="ttc" id="aa00992_html_a3ad7c94026889abb55ee0c8f53bb85af"><div class="ttname"><a href="a00992.html#a3ad7c94026889abb55ee0c8f53bb85af">boost::tuples::detail::HashValueImpl::apply</a></div><div class="ttdeci">static void apply(size_t &amp;seed, Tuple const &amp;tuple)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00052">microsimulation.h:52</a></div></div>
<div class="ttc" id="aa01024_html_af4635b03f5dd6ad4eae7bfcd6321a85c"><div class="ttname"><a href="a01024.html#af4635b03f5dd6ad4eae7bfcd6321a85c">ssim::SummaryReport::setCost</a></div><div class="ttdeci">void setCost(Cost _cost)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00684">microsimulation.h:684</a></div></div>
<div class="ttc" id="aa01072_html_a4283dd67bb5f803ac79ddf561a0c2bb4"><div class="ttname"><a href="a01072.html#a4283dd67bb5f803ac79ddf561a0c2bb4">ssim::RngStream::SetSeed</a></div><div class="ttdeci">bool SetSeed(const double seed[6])</div><div class="ttdef"><b>Definition:</b> <a href="a00038_source.html#l00402">RngStream.cpp:402</a></div></div>
<div class="ttc" id="aa01016_html_a9131694f316cd113a25dd40162c2c9d9"><div class="ttname"><a href="a01016.html#a9131694f316cd113a25dd40162c2c9d9">ssim::Rng::set</a></div><div class="ttdeci">void set()</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00031">microsimulation.cc:31</a></div></div>
<div class="ttc" id="aa01028_html_a85355713f61399b41e93bae150eaa59c"><div class="ttname"><a href="a01028.html#a85355713f61399b41e93bae150eaa59c">ssim::CostReport::Partition</a></div><div class="ttdeci">std::set&lt; Time, std::greater&lt; Time &gt; &gt; Partition</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00827">microsimulation.h:827</a></div></div>
<div class="ttc" id="aa01020_html_a169127c36528c296adb66beb644e9f58"><div class="ttname"><a href="a01020.html#a169127c36528c296adb66beb644e9f58">ssim::EventReport::startReportAge</a></div><div class="ttdeci">Time startReportAge</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00629">microsimulation.h:629</a></div></div>
<div class="ttc" id="aa00062_html"><div class="ttname"><a href="a00062.html">RngStream.h</a></div></div>
<div class="ttc" id="aa01012_html"><div class="ttname"><a href="a01012.html">ssim::Rpexp</a></div><div class="ttdoc">Rpexp is a random number generator class for piecewise constant hazards. Given time lower bounds t an...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00336">microsimulation.h:336</a></div></div>
<div class="ttc" id="aa01004_html_a91e08ea2d214e1efc93bb01aa855032f"><div class="ttname"><a href="a01004.html#a91e08ea2d214e1efc93bb01aa855032f">ssim::cProcess::initialize</a></div><div class="ttdeci">void initialize()</div><div class="ttdoc">action executed when the process is initialized.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00262">microsimulation.h:262</a></div></div>
<div class="ttc" id="aa01020_html_a3ba1e875dbc759a048cd0c6355baa9b3"><div class="ttname"><a href="a01020.html#a3ba1e875dbc759a048cd0c6355baa9b3">ssim::EventReport::setPartition</a></div><div class="ttdeci">void setPartition(const Time start, const Time finish, const Time delta, const Time maxTime=Time(1.0e100))</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00510">microsimulation.h:510</a></div></div>
<div class="ttc" id="aa01032_html_a1444d7b9944e84ada914617e81a61216"><div class="ttname"><a href="a01032.html#a1444d7b9944e84ada914617e81a61216">ssim::SimpleReport::wrap</a></div><div class="ttdeci">SEXP wrap()</div><div class="ttdoc">wrap the report as a DataFrame or a List</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00949">microsimulation.h:949</a></div></div>
<div class="ttc" id="aa01024_html_aa4ef1083542a73d7f3cf9f63cec3e3a2"><div class="ttname"><a href="a01024.html#aa4ef1083542a73d7f3cf9f63cec3e3a2">ssim::SummaryReport::IndividualUtilities</a></div><div class="ttdeci">std::vector&lt; Utility &gt; IndividualUtilities</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00649">microsimulation.h:649</a></div></div>
<div class="ttc" id="aa01024_html_ac6d8863cb108892c4866baa15a120241"><div class="ttname"><a href="a01024.html#ac6d8863cb108892c4866baa15a120241">ssim::SummaryReport::setCostDiscountRate</a></div><div class="ttdeci">void setCostDiscountRate(Cost discountRate)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00668">microsimulation.h:668</a></div></div>
<div class="ttc" id="aa01016_html_a0b5c9231912529372cb069429f28c100"><div class="ttname"><a href="a01016.html#a0b5c9231912529372cb069429f28c100">ssim::Rng::nextSubstream</a></div><div class="ttdeci">void nextSubstream()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00405">microsimulation.h:405</a></div></div>
<div class="ttc" id="aa01028_html_a0b7930376afcddb950e76eaff604fb89"><div class="ttname"><a href="a01028.html#a0b7930376afcddb950e76eaff604fb89">ssim::CostReport::wrap</a></div><div class="ttdeci">SEXP wrap()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00898">microsimulation.h:898</a></div></div>
<div class="ttc" id="aa01012_html_a714da39c6da94b1208d4d52ebf61990d"><div class="ttname"><a href="a01012.html#a714da39c6da94b1208d4d52ebf61990d">ssim::Rpexp::rand</a></div><div class="ttdeci">double rand(double u, double from=0.0)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00362">microsimulation.h:362</a></div></div>
<div class="ttc" id="aa00078_html_aa5335eb8e11374534f54f91af6889c8f"><div class="ttname"><a href="a00078.html#aa5335eb8e11374534f54f91af6889c8f">ssim::rweibullHR</a></div><div class="ttdeci">double rweibullHR(double shape, double scale, double hr)</div><div class="ttdoc">Random Weibull distribution for a given shape, scale and hazard ratio.</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00010">microsimulation.cc:10</a></div></div>
<div class="ttc" id="aa01024_html_a9e661f7b9afdb2e048fb549cca985c2e"><div class="ttname"><a href="a01024.html#a9e661f7b9afdb2e048fb549cca985c2e">ssim::SummaryReport::_indivCosts</a></div><div class="ttdeci">IndividualCosts _indivCosts</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00815">microsimulation.h:815</a></div></div>
<div class="ttc" id="aa00078_html_a6d41a0abcee760467e36c4bf7b4f1e92"><div class="ttname"><a href="a00078.html#a6d41a0abcee760467e36c4bf7b4f1e92">ssim::r_rng_advance_substream</a></div><div class="ttdeci">void r_rng_advance_substream(double *inoutseed, int *n)</div><div class="ttdoc">A utility function to advance the random sub-stream n steps for a specified seed.</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00069">microsimulation.cc:69</a></div></div>
<div class="ttc" id="aa01072_html_a64a7e00b2874826622e4b2fc3503e177"><div class="ttname"><a href="a01072.html#a64a7e00b2874826622e4b2fc3503e177">ssim::RngStream::ResetNextSubstream</a></div><div class="ttdeci">void ResetNextSubstream()</div><div class="ttdef"><b>Definition:</b> <a href="a00038_source.html#l00381">RngStream.cpp:381</a></div></div>
<div class="ttc" id="aa01028_html_a4b543325615230884462677b1b32b19b"><div class="ttname"><a href="a01028.html#a4b543325615230884462677b1b32b19b">ssim::CostReport::startReportAge</a></div><div class="ttdeci">Time startReportAge</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00912">microsimulation.h:912</a></div></div>
<div class="ttc" id="aa01024_html_ac5a1dc26166315f9dd10aabc7657ab20"><div class="ttname"><a href="a01024.html#ac5a1dc26166315f9dd10aabc7657ab20">ssim::SummaryReport::_indivUtilities</a></div><div class="ttdeci">IndividualUtilities _indivUtilities</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00814">microsimulation.h:814</a></div></div>
<div class="ttc" id="aa01000_html_a7b9c2c83c99ba73472c9ed120657fafa"><div class="ttname"><a href="a01000.html#a7b9c2c83c99ba73472c9ed120657fafa">ssim::cMessage::name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00200">microsimulation.h:200</a></div></div>
<div class="ttc" id="aa01020_html_af9e65a8a0dc0315611c6d774d7f96c29"><div class="ttname"><a href="a01020.html#af9e65a8a0dc0315611c6d774d7f96c29">ssim::EventReport::_ut</a></div><div class="ttdeci">UtilityMap _ut</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00624">microsimulation.h:624</a></div></div>
<div class="ttc" id="aa01020_html_adea4209f171ba500507aea63bb90ea2f"><div class="ttname"><a href="a01020.html#adea4209f171ba500507aea63bb90ea2f">ssim::EventReport::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00630">microsimulation.h:630</a></div></div>
<div class="ttc" id="aa00079_html_a0dab5b76e1f928f4060a98d555be8093"><div class="ttname"><a href="a00079.html#a0dab5b76e1f928f4060a98d555be8093">R::rllogis</a></div><div class="ttdeci">double rllogis(double shape, double scale)</div><div class="ttdoc">rllogis function for a random covariate from a log-logistic distribution with shape and scale....</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00113">microsimulation.cc:113</a></div></div>
<div class="ttc" id="aa01016_html_ac0f9cf7cb25e40e6192873881dbaf886"><div class="ttname"><a href="a01016.html#ac0f9cf7cb25e40e6192873881dbaf886">ssim::Rng::~Rng</a></div><div class="ttdeci">virtual ~Rng()</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00026">microsimulation.cc:26</a></div></div>
<div class="ttc" id="aa01020_html_afd4a98017583b4957f8e288a4513dae2"><div class="ttname"><a href="a01020.html#afd4a98017583b4957f8e288a4513dae2">ssim::EventReport::PtMap</a></div><div class="ttdeci">boost::unordered_map&lt; pair&lt; State, Time &gt;, Time &gt; PtMap</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00497">microsimulation.h:497</a></div></div>
<div class="ttc" id="aa01000_html_a9de1f2958f2bdc0d9ecfeb44c396c921"><div class="ttname"><a href="a01000.html#a9de1f2958f2bdc0d9ecfeb44c396c921">ssim::cMessage::kind</a></div><div class="ttdeci">short kind</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00199">microsimulation.h:199</a></div></div>
<div class="ttc" id="aa01020_html_a73d0f731eb55337f2c41ce692d610283"><div class="ttname"><a href="a01020.html#a73d0f731eb55337f2c41ce692d610283">ssim::EventReport::resize</a></div><div class="ttdeci">void resize(int size)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00504">microsimulation.h:504</a></div></div>
<div class="ttc" id="aa01020_html_a1537fc0c9d22d0bcc24c11ed83f75581"><div class="ttname"><a href="a01020.html#a1537fc0c9d22d0bcc24c11ed83f75581">ssim::EventReport::wrap_indiv</a></div><div class="ttdeci">SEXP wrap_indiv()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00614">microsimulation.h:614</a></div></div>
<div class="ttc" id="aa01024_html_a3b95e061e5677f549b79eb7274dd89be"><div class="ttname"><a href="a01024.html#a3b95e061e5677f549b79eb7274dd89be">ssim::SummaryReport::_partition</a></div><div class="ttdeci">Partition _partition</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00808">microsimulation.h:808</a></div></div>
<div class="ttc" id="aa01020_html"><div class="ttname"><a href="a01020.html">ssim::EventReport</a></div><div class="ttdoc">EventReport class for collecting statistics on person-time, prevalence and numbers of events.</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00490">microsimulation.h:490</a></div></div>
<div class="ttc" id="aa01012_html_a77227dc1c76d1bb1e64409386226b1c0"><div class="ttname"><a href="a01012.html#a77227dc1c76d1bb1e64409386226b1c0">ssim::Rpexp::Rpexp</a></div><div class="ttdeci">Rpexp()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00338">microsimulation.h:338</a></div></div>
<div class="ttc" id="aa00078_html_a6f238ca839eccc289bfbc52c65645a3e"><div class="ttname"><a href="a00078.html#a6f238ca839eccc289bfbc52c65645a3e">ssim::r_next_rng_substream</a></div><div class="ttdeci">void r_next_rng_substream()</div><div class="ttdoc">A utility function to move to the next user random stream for the simulation.</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00065">microsimulation.cc:65</a></div></div>
<div class="ttc" id="aa01004_html_a8abb4f29847dd8bb28996ed6fc5c90c2"><div class="ttname"><a href="a01004.html#a8abb4f29847dd8bb28996ed6fc5c90c2">ssim::cProcess::previousEventTime</a></div><div class="ttdeci">Time previousEventTime</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00263">microsimulation.h:263</a></div></div>
<div class="ttc" id="aa00078_html_a71f4104eb68b6038273581c0532f6510"><div class="ttname"><a href="a00078.html#a71f4104eb68b6038273581c0532f6510">ssim::cMessagePred</a></div><div class="ttdeci">bool cMessagePred(const ssim::Event *e, boost::function&lt; bool(const cMessage *msg)&gt; pred)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00214">microsimulation.h:214</a></div></div>
<div class="ttc" id="aa01020_html_a3ead5b44ee3286e46b4a94e97f3d7435"><div class="ttname"><a href="a01020.html#a3ead5b44ee3286e46b4a94e97f3d7435">ssim::EventReport::_events</a></div><div class="ttdeci">EventsMap _events</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00626">microsimulation.h:626</a></div></div>
<div class="ttc" id="aa00078_html_a92ea4368d680bc6f17e71e508139b720"><div class="ttname"><a href="a00078.html#a92ea4368d680bc6f17e71e508139b720">ssim::test_rstream2</a></div><div class="ttdeci">void test_rstream2(double *x)</div><div class="ttdoc">Simple test of the random streams (with a stupid name)</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00091">microsimulation.cc:91</a></div></div>
<div class="ttc" id="aa01008_html_a63b30273b662357c8e50928b2cfe7fee"><div class="ttname"><a href="a01008.html#a63b30273b662357c8e50928b2cfe7fee">ssim::Means::var</a></div><div class="ttdeci">double var()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00303">microsimulation.h:303</a></div></div>
<div class="ttc" id="aa01028_html_a15c2d3132e7e276a036c6fea3969b8de"><div class="ttname"><a href="a01028.html#a15c2d3132e7e276a036c6fea3969b8de">ssim::CostReport::_vector</a></div><div class="ttdeci">IndividualCosts _vector</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00910">microsimulation.h:910</a></div></div>
<div class="ttc" id="aa01016_html_ad997d7be32751dbb9328d162a463b8a5"><div class="ttname"><a href="a01016.html#ad997d7be32751dbb9328d162a463b8a5">ssim::Rng::max</a></div><div class="ttdeci">result_type max()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00398">microsimulation.h:398</a></div></div>
<div class="ttc" id="aa01032_html_a708884e5210932bdd971c13fc42ffe3c"><div class="ttname"><a href="a01032.html#a708884e5210932bdd971c13fc42ffe3c">ssim::SimpleReport::revise</a></div><div class="ttdeci">void revise(string field, T value)</div><div class="ttdoc">revise changes the last value in a given field. Reminder: std::map::operator[] creates an element for...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00937">microsimulation.h:937</a></div></div>
<div class="ttc" id="aa01008_html_ae5d84ea4cac2eb64bdecd374ec266669"><div class="ttname"><a href="a01008.html#ae5d84ea4cac2eb64bdecd374ec266669">ssim::Means::wrap</a></div><div class="ttdeci">SEXP wrap()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00314">microsimulation.h:314</a></div></div>
<div class="ttc" id="aa01012_html_a3d5ae8ef12ec093122bb2bfdf3f4a999"><div class="ttname"><a href="a01012.html#a3d5ae8ef12ec093122bb2bfdf3f4a999">ssim::Rpexp::n</a></div><div class="ttdeci">int n</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00377">microsimulation.h:377</a></div></div>
<div class="ttc" id="aa00065_html"><div class="ttname"><a href="a00065.html">ssim.h</a></div></div>
<div class="ttc" id="aa00078_html"><div class="ttname"><a href="a00078.html">ssim</a></div><div class="ttdoc">name space for the Siena simulator.</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00008">microsimulation.cc:8</a></div></div>
<div class="ttc" id="aa01020_html_a430fdce5d6202d52bc1b1ba2a105b362"><div class="ttname"><a href="a01020.html#a430fdce5d6202d52bc1b1ba2a105b362">ssim::EventReport::EventReport</a></div><div class="ttdeci">EventReport(Utility discountRate=0.0, bool outputUtilities=true, int size=1, Time startReportAge=Time(0), bool indiv=false)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00500">microsimulation.h:500</a></div></div>
<div class="ttc" id="aa01028_html_ad94d0b86f18dcb112141311423cc061f"><div class="ttname"><a href="a01028.html#ad94d0b86f18dcb112141311423cc061f">ssim::CostReport::This</a></div><div class="ttdeci">CostReport&lt; State, Time, Cost &gt; This</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00829">microsimulation.h:829</a></div></div>
<div class="ttc" id="aa01032_html_acb4a83682871b5dd40269b44b3aca03a"><div class="ttname"><a href="a01032.html#acb4a83682871b5dd40269b44b3aca03a">ssim::SimpleReport::Map</a></div><div class="ttdeci">map&lt; string, vector&lt; T &gt; &gt; Map</div><div class="ttdoc">Map typedef for a map of strings to vector&lt;T&gt;</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00926">microsimulation.h:926</a></div></div>
<div class="ttc" id="aa01000_html"><div class="ttname"><a href="a01000.html">ssim::cMessage</a></div><div class="ttdoc">cMessage class for OMNET++ API compatibility. This provides a heavier message class than Sim::Event,...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00191">microsimulation.h:191</a></div></div>
<div class="ttc" id="aa01016_html_aa606303a2f39a430e29436d1da106ca4"><div class="ttname"><a href="a01016.html#aa606303a2f39a430e29436d1da106ca4">ssim::Rng::result_type</a></div><div class="ttdeci">double result_type</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00395">microsimulation.h:395</a></div></div>
<div class="ttc" id="aa01028_html_a5192a3973df462fe53de5a318a9eac5e"><div class="ttname"><a href="a01028.html#a5192a3973df462fe53de5a318a9eac5e">ssim::CostReport::setPartition</a></div><div class="ttdeci">void setPartition(const vector&lt; Time &gt; v)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00863">microsimulation.h:863</a></div></div>
<div class="ttc" id="aa00078_html_a4ef35b49b12877b0197cecf0f0153993"><div class="ttname"><a href="a00078.html#a4ef35b49b12877b0197cecf0f0153993">ssim::cMessageNamePred</a></div><div class="ttdeci">bool cMessageNamePred(const ssim::Event *e, const string s)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00219">microsimulation.h:219</a></div></div>
<div class="ttc" id="aa01028_html_ab02b0127f4d70e912720c9a978d8a5d9"><div class="ttname"><a href="a01028.html#ab02b0127f4d70e912720c9a978d8a5d9">ssim::CostReport::discountRate</a></div><div class="ttdeci">Cost discountRate</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00907">microsimulation.h:907</a></div></div>
<div class="ttc" id="aa01008_html_a43d87ac9d9eaa2a1ab10eb7ac483a132"><div class="ttname"><a href="a01008.html#a43d87ac9d9eaa2a1ab10eb7ac483a132">ssim::Means::operator+=</a></div><div class="ttdeci">Means * operator+=(const double value)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00308">microsimulation.h:308</a></div></div>
<div class="ttc" id="aa01000_html_a5c5f3b357b1cd90c55bc49a8bb2d3f89"><div class="ttname"><a href="a01000.html#a5c5f3b357b1cd90c55bc49a8bb2d3f89">ssim::cMessage::getName</a></div><div class="ttdeci">string getName()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00196">microsimulation.h:196</a></div></div>
<div class="ttc" id="aa01028_html_a6dfb019d5679d2fe39980e773fe37596"><div class="ttname"><a href="a01028.html#a6dfb019d5679d2fe39980e773fe37596">ssim::CostReport::CostReport</a></div><div class="ttdeci">CostReport(Cost discountRate=0, int size=1, Time startReportAge=Time(0), bool indiv=false)</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00832">microsimulation.h:832</a></div></div>
<div class="ttc" id="aa00078_html_aaadf0ab5ca8eb7c55bdb45b5a28fda91"><div class="ttname"><a href="a00078.html#aaadf0ab5ca8eb7c55bdb45b5a28fda91">ssim::counter_id</a></div><div class="ttdeci">static int counter_id</div><div class="ttdoc">C++ wrapper class for the RngStream library. set() sets the current R random number stream to this st...</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00392">microsimulation.h:392</a></div></div>
<div class="ttc" id="aa01028_html_a90ead3301d6477f800d4e46a3ecc6554"><div class="ttname"><a href="a01028.html#a90ead3301d6477f800d4e46a3ecc6554">ssim::CostReport::indiv</a></div><div class="ttdeci">bool indiv</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00914">microsimulation.h:914</a></div></div>
<div class="ttc" id="aa00078_html_ac54d5e04a1e55217c6706f84e20f0af1"><div class="ttname"><a href="a00078.html#ac54d5e04a1e55217c6706f84e20f0af1">ssim::r_get_user_random_seed</a></div><div class="ttdeci">void r_get_user_random_seed(double *outseed)</div><div class="ttdoc">A utility function to set the user random seed for the simulation.</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00057">microsimulation.cc:57</a></div></div>
<div class="ttc" id="aa00079_html_af4a656a812736309337c13d792feb2b6"><div class="ttname"><a href="a00079.html#af4a656a812736309337c13d792feb2b6">R::rllogis_trunc</a></div><div class="ttdeci">double rllogis_trunc(double shape, double scale, double left)</div><div class="ttdoc">rllogis_trunc function for a random covariate from a log-logistic distribution with shape and scale w...</div><div class="ttdef"><b>Definition:</b> <a href="a00023_source.html#l00118">microsimulation.cc:118</a></div></div>
<div class="ttc" id="aa01028_html_a2afe661d66ec4451a016218bfd9c9f8e"><div class="ttname"><a href="a01028.html#a2afe661d66ec4451a016218bfd9c9f8e">ssim::CostReport::wrap_means</a></div><div class="ttdeci">SEXP wrap_means()</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00904">microsimulation.h:904</a></div></div>
<div class="ttc" id="aa01092_html_a427f151a77fefda3f485ecc850ae720a"><div class="ttname"><a href="a01092.html#a427f151a77fefda3f485ecc850ae720a">ssim::Sim::ignore_event</a></div><div class="ttdeci">static void ignore_event(EventPredicate pred)</div><div class="ttdef"><b>Definition:</b> <a href="a00047_source.html#l00133">ssim.cc:133</a></div></div>
<div class="ttc" id="aa01024_html_a2187214089cc3a522b0f935d2afa0d9e"><div class="ttname"><a href="a01024.html#a2187214089cc3a522b0f935d2afa0d9e">ssim::SummaryReport::Partition</a></div><div class="ttdeci">std::set&lt; Time, std::greater&lt; Time &gt; &gt; Partition</div><div class="ttdef"><b>Definition:</b> <a href="a00056_source.html#l00640">microsimulation.h:640</a></div></div>
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 17 2021 08:40:57 for Microsimulation API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
